{
  org.springframework.core.env.Environment environment=applicationContext.getEnvironment();
  if (environment instanceof ConfigurableEnvironment) {
    MutablePropertySources propertySources=((ConfigurableEnvironment)environment).getPropertySources();
    PropertySourcesConfig newConfig=new PropertySourcesConfig(propertySources);
    if (this.config != null) {
      newConfig.merge(this.config);
    }
    this.config=newConfig;
  }
  this.parentContext=applicationContext;
  ((ConfigurableApplicationContext)applicationContext).addApplicationListener(this);
}
