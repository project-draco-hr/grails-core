{
  GrailsDomainClass one2ManyDomain=grailsApplication.getGrailsDomainClass("org.codehaus.groovy.grails.domain.RelationshipsTest");
  GroovyObject one2many=(GroovyObject)one2ManyDomain.newInstance();
  GroovyObject child=(GroovyObject)grailsApplication.getGrailsDomainClass("org.codehaus.groovy.grails.domain.UniOneToManyTest").newInstance();
  HibernateTemplate template=new HibernateTemplate(this.sessionFactory);
  assertNotNull(child);
  Set set=new HashSet();
  one2many.setProperty("uniones",set);
  ((Set)one2many.getProperty("uniones")).add(child);
  template.save(one2many);
  template.evict(one2many);
  one2many=null;
  one2many=(GroovyObject)template.get(one2ManyDomain.getClazz(),new Long(1));
  assertNotNull(one2many);
  set=(Set)one2many.getProperty("uniones");
  assertNotNull(set);
  assertEquals(1,set.size());
}
