{
  List grailsCorePlugins=findCorePlugins();
  List grailsUserPlugins=findUserPlugins(gcl);
  List allPlugins=new ArrayList(grailsCorePlugins);
  allPlugins.addAll(grailsUserPlugins);
  List filteredPlugins=getPluginFilter().filterPluginList(allPlugins);
  List orderedCorePlugins=new ArrayList();
  List orderedUserPlugins=new ArrayList();
  for (Iterator iter=filteredPlugins.iterator(); iter.hasNext(); ) {
    GrailsPlugin plugin=(GrailsPlugin)iter.next();
    if (grailsCorePlugins.contains(plugin)) {
      orderedCorePlugins.add(plugin);
    }
 else {
      orderedUserPlugins.add(plugin);
    }
  }
  List orderedPlugins=new ArrayList();
  orderedPlugins.addAll(orderedCorePlugins);
  orderedPlugins.addAll(orderedUserPlugins);
  for (Iterator iter=orderedPlugins.iterator(); iter.hasNext(); ) {
    GrailsPlugin plugin=(GrailsPlugin)iter.next();
    attemptPluginLoad(plugin);
  }
}
