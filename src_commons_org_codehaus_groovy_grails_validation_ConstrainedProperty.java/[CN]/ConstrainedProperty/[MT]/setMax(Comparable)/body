{
  if (max == null) {
    this.appliedConstraints.remove(MAX_CONSTRAINT);
    return;
  }
  if (!propertyType.equals(max.getClass())) {
    throw new MissingPropertyException(MAX_CONSTRAINT,propertyType);
  }
  Range r=getRange();
  if (r != null) {
    LOG.warn("Range constraint already set ignoring constraint [" + MAX_CONSTRAINT + "] for value ["+ max+ "]");
    return;
  }
  Constraint c=(MaxConstraint)this.appliedConstraints.get(MAX_CONSTRAINT);
  if (c != null) {
    c.setParameter(max);
  }
 else {
    c=new MaxConstraint();
    c.setOwningClass(this.owningClass);
    c.setPropertyName(this.propertyName);
    c.setParameter(max);
    this.appliedConstraints.put(MAX_CONSTRAINT,c);
  }
}
