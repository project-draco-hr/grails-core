{
  if (msg == null || msg.trim().length() == 0)   return;
  try {
    if (hasNewLines(msg)) {
      printMessageOnNewLine(msg);
      lastMessage="";
    }
 else {
      final String categoryName=category.toString();
      if (isAnsiEnabled()) {
        lastStatus=outputCategory(erasePreviousLine(categoryName),categoryName).fg(Color.DEFAULT).a(msg).reset();
        out.println(lastStatus);
        cursorMove=replaceCount;
      }
 else {
        if (lastMessage != null && lastMessage.equals(msg))         return;
        if (progressIndicatorActive) {
          out.println();
        }
        out.println(categoryName + msg);
      }
      lastMessage=msg;
    }
  }
  finally {
    progressIndicatorActive=false;
  }
}
