{
  if (parameterValues == null)   parameterValues=new HashMap();
  GrailsWebRequest webRequest=(GrailsWebRequest)RequestContextHolder.currentRequestAttributes();
  boolean blankController=StringUtils.isBlank(controller);
  boolean blankAction=StringUtils.isBlank(action);
  if (!blankController) {
    parameterValues.put(GrailsControllerClass.CONTROLLER,controller);
  }
  if (!blankAction)   parameterValues.put(GrailsControllerClass.ACTION,action);
  try {
    return createURLWithWebRequest(parameterValues,webRequest,includeContextPath);
  }
  finally {
    if (!blankController)     parameterValues.remove(GrailsControllerClass.CONTROLLER);
    if (!blankAction)     parameterValues.remove(GrailsControllerClass.ACTION);
  }
}
