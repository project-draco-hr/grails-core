{
  try {
    Resource resourceURL=loadGroovySource(name);
    GroovyClassLoader innerLoader=new GrailsAwareClassLoader(this);
    InputStream inputStream=null;
    clearCache();
    try {
      inputStream=resourceURL.getInputStream();
      Class reloadedClass=innerLoader.parseClass(inputStream,name);
      compilationErrors.remove(name);
      innerClassLoaderMap.put(name,innerLoader);
      return reloadedClass;
    }
 catch (    MultipleCompilationErrorsException e) {
      compilationErrors.put(name,e);
      throw e;
    }
catch (    IOException e) {
      throw new CompilationFailedException("Error opening stream to class " + name + " with URL "+ resourceURL,e);
    }
 finally {
      try {
        if (inputStream != null) {
          inputStream.close();
        }
      }
 catch (      IOException e) {
      }
    }
  }
 catch (  MalformedURLException e) {
    throw new CompilationFailedException("Error opening stream to class " + name + ":"+ e.getMessage(),e);
  }
}
