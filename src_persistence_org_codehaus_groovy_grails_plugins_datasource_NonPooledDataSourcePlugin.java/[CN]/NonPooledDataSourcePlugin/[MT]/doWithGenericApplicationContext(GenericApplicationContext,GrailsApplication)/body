{
  GrailsDataSource dataSource=application.getGrailsDataSource();
  if (dataSource != null && !dataSource.isPooled()) {
    RootBeanDefinition bd=new RootBeanDefinition(DriverManagerDataSource.class);
    MutablePropertyValues mpv=new MutablePropertyValues();
    mpv.addPropertyValue("driverClassName",dataSource.getDriverClassName());
    mpv.addPropertyValue("url",dataSource.getUrl());
    mpv.addPropertyValue("username",dataSource.getUsername());
    mpv.addPropertyValue("password",dataSource.getPassword());
    bd.setPropertyValues(mpv);
    applicationContext.registerBeanDefinition("dataSource",bd);
  }
}
