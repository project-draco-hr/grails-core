{
  if (!fieldValues.containsKey("year")) {
    throw new IllegalArgumentException("Can't populate a date without a year");
  }
  String yearString=(String)fieldValues.get("year");
  int year;
  try {
    if (StringUtils.isBlank(yearString)) {
      throw new IllegalArgumentException("Can't populate a date without a year");
    }
 else {
      year=Integer.parseInt(yearString);
    }
    int month=getIntegerValue(fieldValues,"month",1);
    int day=getIntegerValue(fieldValues,"day",1);
    int hour=getIntegerValue(fieldValues,"hour",0);
    int minute=getIntegerValue(fieldValues,"minute",0);
    Calendar c=new GregorianCalendar(year,month - 1,day,hour,minute);
    if (type == Date.class) {
      return c.getTime();
    }
 else     if (type == java.sql.Date.class) {
      return new java.sql.Date(c.getTime().getTime());
    }
    return c;
  }
 catch (  NumberFormatException nfe) {
    throw new IllegalArgumentException("Unable to parse structured date from request for date [\"+propertyName+\"]\"");
  }
}
