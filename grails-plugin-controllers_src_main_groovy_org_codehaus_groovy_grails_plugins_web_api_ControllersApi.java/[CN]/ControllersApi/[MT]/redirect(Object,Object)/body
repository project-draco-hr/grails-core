{
  if (object != null) {
    Class<?> objectClass=object.getClass();
    boolean isDomain=DomainClassArtefactHandler.isDomainClass(objectClass) && object instanceof GroovyObject;
    if (isDomain) {
      Object id=((GroovyObject)object).getProperty(GrailsDomainClassProperty.IDENTITY);
      if (id != null) {
        Map args=new HashMap();
        args.put(LinkGenerator.ATTRIBUTE_RESOURCE,object);
        args.put(LinkGenerator.ATTRIBUTE_METHOD,HttpMethod.GET.toString());
        return redirect(instance,args);
      }
    }
  }
  throw new CannotRedirectException("Cannot redirect for object [" + object + "] it is not a domain or has no identifier. Use an explicit redirect instead ");
}
