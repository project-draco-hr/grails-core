{
  String encoding=request.getCharacterEncoding();
  if (encoding == null)   encoding="UTF-8";
  StringBuffer queryString=new StringBuffer("?");
  for (Iterator i=entrySet().iterator(); i.hasNext(); ) {
    Entry entry=(Entry)i.next();
    boolean hasMore=i.hasNext();
    boolean wasAppended=appendEntry(entry,queryString,encoding,"");
    if (hasMore && wasAppended)     queryString.append('&');
  }
  return queryString.toString();
}
