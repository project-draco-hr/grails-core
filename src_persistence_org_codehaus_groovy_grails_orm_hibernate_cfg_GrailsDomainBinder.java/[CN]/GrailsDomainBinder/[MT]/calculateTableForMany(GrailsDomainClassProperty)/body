{
  if (Map.class.isAssignableFrom(property.getType())) {
    String tablePrefix=getTableName(property.getDomainClass());
    return tablePrefix + "_" + namingStrategy.propertyToColumnName(property.getName());
  }
 else {
    PropertyConfig config=getPropertyConfig(property);
    JoinTable jt=config != null ? config.getJoinTable() : null;
    if (property.isManyToMany() && jt != null && jt.getName() != null) {
      return jt.getName();
    }
 else {
      String left=getTableName(property.getDomainClass());
      String right=getTableName(property.getReferencedDomainClass());
      if (property.isOwningSide()) {
        return left + UNDERSCORE + right;
      }
 else       if (shouldCollectionBindWithJoinColumn(property)) {
        if (jt != null && jt.getName() != null) {
          return jt.getName();
        }
        left=trimBackTigs(left);
        right=trimBackTigs(right);
        return left + UNDERSCORE + right;
      }
 else {
        return right + UNDERSCORE + left;
      }
    }
  }
}
