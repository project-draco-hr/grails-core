{
  component.setEmbedded(true);
  String role=StringHelper.qualify(property.getDomainClass().getFullName(),property.getName());
  component.setRoleName(role);
  component.setComponentClassName(property.getType().getName());
  GrailsDomainClass domainClass=property.getReferencedDomainClass();
  GrailsDomainClassProperty[] properties=domainClass.getPersistentProperties();
  Table table=component.getOwner().getTable();
  PersistentClass persistentClass=component.getOwner();
  String path=property.getName();
  Class propertyType=property.getDomainClass().getClazz();
  for (int i=0; i < properties.length; i++) {
    GrailsDomainClassProperty currentGrailsProp=properties[i];
    if (currentGrailsProp.isIdentity())     continue;
    if (currentGrailsProp.getName().equals(GrailsDomainClassProperty.VERSION))     continue;
    if (currentGrailsProp.getType().equals(propertyType)) {
      component.setParentProperty(currentGrailsProp.getName());
      continue;
    }
    bindComponentProperty(component,currentGrailsProp,persistentClass,path,table,mappings);
  }
}
