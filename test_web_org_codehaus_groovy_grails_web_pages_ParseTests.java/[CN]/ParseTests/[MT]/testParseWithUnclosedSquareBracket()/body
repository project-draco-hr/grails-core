{
  String output=parseCode("myTest","<g:message code=\"[\"/>");
  String expected=makeImports() + "\n" + "class myTest extends GroovyPage {\n"+ "public String getGroovyPageFileName() { \"myTest\" }\n"+ "public Object run() {\n"+ "def params = binding.params\n"+ "def request = binding.request\n"+ "def flash = binding.flash\n"+ "def response = binding.response\n"+ "attrs1 = [\"code\":evaluate('\"[\"', 1, it) { return \"[\" }]\n"+ "body1 = new GroovyPageTagBody(this,binding.webRequest) {\n"+ "}\n"+ "invokeTag('message','g',1,attrs1,body1)\n"+ "}\n"+ "}";
  assertEquals(trimAndRemoveCR(expected),trimAndRemoveCR(output));
}
