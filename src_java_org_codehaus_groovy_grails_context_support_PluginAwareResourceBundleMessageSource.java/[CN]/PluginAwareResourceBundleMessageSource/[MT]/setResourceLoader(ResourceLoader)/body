{
  if (Metadata.getCurrent().isWarDeployed()) {
    this.localResourceLoader=resourceLoader;
  }
 else {
    BuildSettings settings=BuildSettingsHolder.getSettings();
    String location=null;
    if (settings != null) {
      location=settings.getResourcesDir().getPath();
    }
 else     if (Environment.getCurrent().isReloadEnabled()) {
      location=Environment.getCurrent().getReloadLocation();
    }
    if (location != null) {
      this.localResourceLoader=new DevelopmentResourceLoader(this.application,location);
    }
 else {
      this.localResourceLoader=resourceLoader;
    }
  }
  super.setResourceLoader(localResourceLoader);
  this.resourceResolver=new PathMatchingResourcePatternResolver(this.localResourceLoader);
}
