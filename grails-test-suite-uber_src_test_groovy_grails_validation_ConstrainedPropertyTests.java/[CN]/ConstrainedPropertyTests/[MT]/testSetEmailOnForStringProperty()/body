{
  ConstrainedProperty cp=new ConstrainedProperty(ConstrainedPropertyTests.class,"testProperty",Integer.class);
  try {
    cp.setEmail(true);
    fail("The call to setEmail(true) on a ConstrainedProperty associated with an Integer property should throw an IllegalStateException.");
  }
 catch (  IllegalStateException expected) {
    assertEquals("Email constraint can only be applied to String properties",expected.getMessage());
  }
}
