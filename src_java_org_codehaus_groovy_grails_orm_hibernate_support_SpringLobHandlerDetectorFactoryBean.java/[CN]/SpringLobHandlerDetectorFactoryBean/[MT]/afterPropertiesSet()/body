{
  Assert.notNull(dataSource,"Data source is not set!");
  String dbName=(String)JdbcUtils.extractDatabaseMetaData(dataSource,"getDatabaseProductName");
  if (SpringLobHandlerDetectorFactoryBean.ORACLE_DB_NAME.equals(dbName)) {
    final OracleLobHandler oracleLobHandler=new OracleLobHandler();
    lobHandler=oracleLobHandler;
    if (pooledConnection) {
      oracleLobHandler.setNativeJdbcExtractor(nativeJdbcExtractor);
    }
  }
 else {
    lobHandler=new DefaultLobHandler();
  }
}
