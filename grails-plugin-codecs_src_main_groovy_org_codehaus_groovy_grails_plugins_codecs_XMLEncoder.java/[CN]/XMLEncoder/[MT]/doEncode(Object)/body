{
  if (o == null) {
    return null;
  }
  if (o instanceof CharSequence || (o != null && ClassUtils.isPrimitiveOrWrapper(o.getClass()))) {
    return doCharReplacementEncoding(o);
  }
 else {
    return encodeToXmlString(o);
  }
}
