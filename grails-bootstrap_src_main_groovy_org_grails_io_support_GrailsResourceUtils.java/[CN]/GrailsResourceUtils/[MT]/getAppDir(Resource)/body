{
  if (resource == null)   return null;
  try {
    String url=resource.getURL().toString();
    int i=url.lastIndexOf(GRAILS_APP_DIR);
    if (i > -1) {
      url=url.substring(0,i + 10);
      return new UrlResource(url);
    }
    return null;
  }
 catch (  MalformedURLException e) {
    return null;
  }
catch (  IOException e) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Error reading URL whilst resolving app dir from [" + resource + "]: "+ e.getMessage(),e);
    }
    return null;
  }
}
