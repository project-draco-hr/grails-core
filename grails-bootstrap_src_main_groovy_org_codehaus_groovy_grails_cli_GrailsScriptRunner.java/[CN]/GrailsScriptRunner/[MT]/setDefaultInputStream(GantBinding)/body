{
  if (this.orignalIn == null) {
    this.orignalIn=System.in;
  }
  AntBuilder antBuilder=(AntBuilder)binding.getVariable("ant");
  Project p=antBuilder.getAntProject();
  try {
    System.setIn(orignalIn);
    p.setInputHandler(new CommandLineInputHandler(orignalIn,System.out));
    p.setDefaultInputStream(orignalIn);
  }
 catch (  NoSuchMethodError nsme) {
    for (    Method m : p.getClass().getMethods()) {
      if ("setDefaultInputStream".equals(m.getName()) && m.getParameterTypes().length == 1 && InputStream.class.equals(m.getParameterTypes()[0])) {
        try {
          m.invoke(p,orignalIn);
          break;
        }
 catch (        Exception e) {
          throw new RuntimeException(e);
        }
      }
    }
  }
}
