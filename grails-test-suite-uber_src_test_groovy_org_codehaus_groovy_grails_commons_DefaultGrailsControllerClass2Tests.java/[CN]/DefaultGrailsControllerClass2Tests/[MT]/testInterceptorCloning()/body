{
  GroovyClassLoader cl=new GrailsAwareClassLoader();
  Class<?> clazz=cl.parseClass("@grails.artefact.Artefact(\"Controller\") class TestController { \n" + "def someproperty='testvalue'\n" + "static def beforeInterceptor = { someproperty }\n"+ "def list = { return 'test' }\n "+ "} ");
  GrailsControllerClass grailsClass=new DefaultGrailsControllerClass(clazz);
  GroovyObject controller=(GroovyObject)grailsClass.newInstance();
  assertTrue(grailsClass.isInterceptedBefore(controller,"list"));
  Closure<?> bi=grailsClass.getBeforeInterceptor(controller);
  assertNotNull(bi);
  assertEquals("testvalue",bi.call());
}
