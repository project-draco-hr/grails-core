{
  if (arguments.length < 2)   throw new MissingMethodException(METHOD_NAME,target.getClass(),arguments);
  if (arguments[1] == null) {
    throw new IllegalArgumentException("Argument to method [add] cannot be null");
  }
  GrailsUtil.deprecated(target.getClass(),methodName);
  String collectionName;
  if (arguments[0] instanceof Map) {
    collectionName=(String)((Map)arguments[0]).get(TO_ARGUMENT);
    GrailsDomainClassProperty property=getDomainClassProperty(collectionName);
    if (!arguments[1].getClass().equals(property.getReferencedPropertyType())) {
      throw new MissingMethodException(METHOD_NAME,target.getClass(),arguments);
    }
  }
 else {
    throw new MissingMethodException(METHOD_NAME,target.getClass(),arguments);
  }
  Object toAdd=arguments[1];
  addObjectToTarget(target,toAdd,collectionName);
  return target;
}
