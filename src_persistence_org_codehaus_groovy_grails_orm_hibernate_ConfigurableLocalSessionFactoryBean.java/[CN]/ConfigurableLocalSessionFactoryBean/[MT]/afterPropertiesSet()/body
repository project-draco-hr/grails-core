{
  ClassLoader originalClassLoader=null;
  if (this.classLoader != null) {
    originalClassLoader=Thread.currentThread().getContextClassLoader();
    Thread.currentThread().setContextClassLoader(this.classLoader);
  }
  super.afterPropertiesSet();
  SessionFactory sf=(SessionFactory)getObject();
  if (sf != null) {
    Configuration c=getConfiguration();
    if (c instanceof GrailsDomainConfiguration) {
      GrailsDomainConfiguration gc=(GrailsDomainConfiguration)c;
      gc.configureDynamicMethods(sf);
    }
  }
  if (originalClassLoader != null) {
    Thread.currentThread().setContextClassLoader(originalClassLoader);
  }
}
