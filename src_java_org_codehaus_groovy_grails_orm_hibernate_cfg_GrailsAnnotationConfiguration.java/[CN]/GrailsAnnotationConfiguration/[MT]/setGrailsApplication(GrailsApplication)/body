{
  this.grailsApplication=application;
  if (grailsApplication == null) {
    return;
  }
  GrailsClass[] existingDomainClasses=grailsApplication.getArtefacts(DomainClassArtefactHandler.TYPE);
  for (  GrailsClass existingDomainClass : existingDomainClasses) {
    addDomainClass((GrailsDomainClass)existingDomainClass);
  }
  ArtefactHandler handler=grailsApplication.getArtefactHandler(DomainClassArtefactHandler.TYPE);
  if (!(handler instanceof AnnotationDomainClassArtefactHandler)) {
    return;
  }
  Set<String> jpaDomainNames=((AnnotationDomainClassArtefactHandler)handler).getJpaClassNames();
  if (jpaDomainNames == null) {
    return;
  }
  final ClassLoader loader=grailsApplication.getClassLoader();
  for (  String jpaDomainName : jpaDomainNames) {
    try {
      addAnnotatedClass(loader.loadClass(jpaDomainName));
    }
 catch (    ClassNotFoundException e) {
    }
  }
}
