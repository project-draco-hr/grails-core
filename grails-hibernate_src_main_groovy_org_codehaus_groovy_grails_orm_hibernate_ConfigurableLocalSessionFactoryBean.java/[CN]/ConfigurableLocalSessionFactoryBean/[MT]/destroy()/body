{
  if (this.grailsApplication.isWarDeployed()) {
    MetaClassRegistry registry=GroovySystem.getMetaClassRegistry();
    Map<?,?> classMetaData=getSessionFactory().getAllClassMetadata();
    for (    Object o : classMetaData.values()) {
      ClassMetadata classMetadata=(ClassMetadata)o;
      Class<?> mappedClass=classMetadata.getMappedClass(EntityMode.POJO);
      registry.removeMetaClass(mappedClass);
    }
  }
  try {
    super.destroy();
  }
 catch (  HibernateException e) {
    if (e.getCause() instanceof NameNotFoundException) {
      LOG.debug(e.getCause().getMessage(),e);
    }
 else {
      throw e;
    }
  }
}
