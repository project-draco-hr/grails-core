{
  if (StringUtils.isBlank(name))   return null;
  if (decoratorMap.containsKey(name)) {
    return (Decorator)decoratorMap.get(name);
  }
 else {
    String decoratorName=name;
    if (!name.matches("(.+)(\\.)(\\w{2}|\\w{3})")) {
      name+=DEFAULT_VIEW_TYPE;
    }
    String decoratorPage=DEFAULT_DECORATOR_PATH + '/' + name;
    ResourceLoader resourceLoader=establishResourceLoader();
    Resource res=resourceLoader.getResource(decoratorPage);
    if (!res.exists()) {
      if (LOG.isDebugEnabled())       LOG.debug("No decorator found at " + decoratorPage);
      return null;
    }
 else {
      if (LOG.isDebugEnabled())       LOG.debug("Using decorator " + decoratorPage);
      Decorator d=new DefaultDecorator(decoratorName,request.getRequestURI(),decoratorPage,Collections.EMPTY_MAP);
      decoratorMap.put(decoratorName,d);
      return d;
    }
  }
}
