{
  String name=descriptor.getDependencyId().getName();
  String classifierAttribute=descriptor.getExtraAttribute("m:classifier");
  String packaging;
  if (classifierAttribute != null && classifierAttribute.equals("plugin")) {
    packaging="xml";
  }
 else {
    packaging="zip";
  }
  DependencyArtifactDescriptor artifact=new DefaultDependencyArtifactDescriptor(descriptor,name,packaging,packaging,null,null);
  descriptor.addDependencyArtifact(scope,artifact);
  registerDependencyCommon(scope,descriptor);
  pluginDependencyNames.add(name);
  pluginDependencyDescriptors.add(descriptor);
  pluginNameToDescriptorMap.put(name,descriptor);
}
