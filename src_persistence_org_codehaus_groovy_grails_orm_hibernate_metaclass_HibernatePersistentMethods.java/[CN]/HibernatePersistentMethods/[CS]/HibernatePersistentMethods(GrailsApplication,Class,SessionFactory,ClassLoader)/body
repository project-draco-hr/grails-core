{
  super(theClass);
  addDynamicMethodInvocation(new SavePersistentMethod(sessionFactory,classLoader));
  addDynamicMethodInvocation(new DeletePersistentMethod(sessionFactory,classLoader));
  addDynamicMethodInvocation(new RefreshPersistentMethod(sessionFactory,classLoader));
  GrailsDomainClass domainClass=application.getGrailsDomainClass(theClass.getName());
  GrailsDomainClassValidator validator=new GrailsDomainClassValidator(theClass,domainClass.getConstrainedProperties().values(),sessionFactory);
  addDynamicMethodInvocation(new ValidatePersistentMethod(sessionFactory,classLoader,validator));
  addStaticMethodInvocation(new FindPersistentMethod(sessionFactory,classLoader));
  addStaticMethodInvocation(new FindAllPersistentMethod(sessionFactory,classLoader,Pattern.compile("^findAll$")));
  addStaticMethodInvocation(new FindByPersistentMethod(application,sessionFactory,classLoader));
  addStaticMethodInvocation(new GetByPersistentMethod(application,sessionFactory,classLoader));
  addStaticMethodInvocation(new FindPersistentMethod(sessionFactory,classLoader));
  addStaticMethodInvocation(new ListOrderByPersistentMethod(sessionFactory,classLoader));
  addStaticMethodInvocation(new ListPersistentMethod(sessionFactory,classLoader));
  addStaticMethodInvocation(new FindWherePersistentMethod(sessionFactory,classLoader));
  addStaticMethodInvocation(new GetPersistentMethod(sessionFactory,classLoader));
  addStaticMethodInvocation(new CreateCriteriaPersistentMethod(sessionFactory,classLoader));
  addDynamicProperty(new SetPropertiesDynamicProperty());
}
