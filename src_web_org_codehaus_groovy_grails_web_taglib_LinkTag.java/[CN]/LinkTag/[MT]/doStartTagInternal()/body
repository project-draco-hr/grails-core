{
  StringBuffer buf=new StringBuffer();
  buf.append("<a href=\"").append(contextPath).append('/').append(attributes.remove(ATTRIBUTE_CONTROLLER));
  if (attributes.containsKey(ATTRIBUTE_ACTION)) {
    buf.append('/').append(attributes.remove(ATTRIBUTE_ACTION));
  }
  if (attributes.containsKey(ATTRIBUTE_ID)) {
    buf.append('?').append("id=").append(attributes.remove(ATTRIBUTE_ID));
  }
  buf.append("\" ");
  if (attributes.size() > 0) {
    for (Iterator i=attributes.keySet().iterator(); i.hasNext(); ) {
      String attributeName=(String)i.next();
      Object attributeValue=attributes.get(attributeName);
      buf.append(attributeName).append("=\"").append(attributeValue).append("\" ");
    }
  }
  buf.append('>');
  try {
    out.write(buf.toString());
  }
 catch (  IOException e) {
    throw new GrailsTagException("I/O error writing tag [" + getName() + "] to writer: "+ e.getMessage(),e);
  }
}
