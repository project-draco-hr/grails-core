{
  try {
    final GrailsAwareTraitInjectionOperation grailsTraitInjector=new GrailsAwareTraitInjectionOperation(compilationUnit);
    final List<TraitInjector> traitInjectors=grailsTraitInjector.getTraitInjectors();
    final List<TraitInjector> injectorsToUse=new ArrayList<TraitInjector>();
    for (    final TraitInjector injector : traitInjectors) {
      final List<String> artefactTypes=Arrays.asList(injector.getArtefactTypes());
      if (artefactTypes.contains(artefactType)) {
        injectorsToUse.add(injector);
      }
    }
    try {
      if (injectorsToUse.size() > 0) {
        grailsTraitInjector.performTraitInjection(sourceUnit,cNode,injectorsToUse);
      }
    }
 catch (    RuntimeException e) {
      try {
        GrailsConsole.getInstance().error("Error occurred calling Trait injector: " + e.getMessage(),e);
      }
 catch (      Throwable t) {
      }
      throw e;
    }
  }
 catch (  Exception e) {
    try {
      GrailsConsole.getInstance().error("Error occurred processing Trait injectors: " + e.getMessage(),e);
    }
 catch (    Throwable t) {
    }
    throw new RuntimeException(e);
  }
}
