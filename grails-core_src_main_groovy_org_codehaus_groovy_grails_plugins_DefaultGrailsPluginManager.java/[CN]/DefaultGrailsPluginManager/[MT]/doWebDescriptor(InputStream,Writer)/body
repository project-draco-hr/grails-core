{
  checkInitialised();
  try {
    XmlSlurper slurper=new XmlSlurper();
    slurper.setEntityResolver(new EntityResolver(){
      public InputSource resolveEntity(      String publicId,      String systemId) throws SAXException, IOException {
        if (systemId != null && systemId.equals("http://java.sun.com/dtd/web-app_2_3.dtd")) {
          return new InputSource(new StringReader(getWeb23DTD()));
        }
        return null;
      }
    }
);
    GPathResult result=slurper.parse(inputStream);
    for (    GrailsPlugin plugin : pluginList) {
      if (plugin.supportsCurrentScopeAndEnvironment()) {
        plugin.doWithWebDescriptor(result);
      }
    }
    writeWebDescriptorResult(result,target);
  }
 catch (  ParserConfigurationException e) {
    throw new PluginException("Unable to configure web.xml due to parser configuration problem: " + e.getMessage(),e);
  }
catch (  SAXException e) {
    throw new PluginException("XML parsing error configuring web.xml: " + e.getMessage(),e);
  }
catch (  IOException e) {
    throw new PluginException("Unable to read web.xml" + e.getMessage(),e);
  }
}
