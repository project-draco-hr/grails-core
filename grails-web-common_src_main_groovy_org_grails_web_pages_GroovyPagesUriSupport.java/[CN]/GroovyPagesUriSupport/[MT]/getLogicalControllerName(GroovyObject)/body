{
  if (controller == null) {
    GrailsWebRequest webRequest=GrailsWebRequest.lookup();
    return webRequest != null ? webRequest.getControllerName() : null;
  }
 else {
    if (!controller.getClass().getSimpleName().endsWith(ControllerArtefactHandler.TYPE)) {
      GrailsWebRequest webRequest=GrailsWebRequest.lookup();
      return webRequest != null ? webRequest.getControllerName() : null;
    }
 else {
      return GrailsNameUtils.getLogicalPropertyName(controller.getClass().getSimpleName(),ControllerArtefactHandler.TYPE);
    }
  }
}
