{
  if (compilationUnit != null) {
    GrailsAwareTraitInjectionOperation grailsTraitInjector=new GrailsAwareTraitInjectionOperation(compilationUnit);
    List<TraitInjector> traitInjectors=grailsTraitInjector.getTraitInjectors();
    List<TraitInjector> injectorsToUse=new ArrayList<TraitInjector>();
    for (    TraitInjector injector : traitInjectors) {
      List<String> artefactTypes=Arrays.asList(injector.getArtefactTypes());
      if (artefactTypes.contains(artefactType)) {
        injectorsToUse.add(injector);
      }
    }
    grailsTraitInjector.performTraitInjection(sourceUnit,cNode,injectorsToUse);
  }
}
