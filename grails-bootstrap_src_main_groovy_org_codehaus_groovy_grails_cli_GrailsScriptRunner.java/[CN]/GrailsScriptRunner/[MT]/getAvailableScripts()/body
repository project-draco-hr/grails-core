{
  List<File> scripts=new ArrayList<File>();
  if (settings.getGrailsHome() != null) {
    addCommandScripts(new File(settings.getGrailsHome(),"scripts"),scripts);
  }
  addCommandScripts(new File(settings.getBaseDir(),"scripts"),scripts);
  addCommandScripts(new File(settings.getUserHome(),".grails/scripts"),scripts);
  for (  File dir : pluginPathSupport.listKnownPluginDirs()) {
    addPluginScripts(dir,scripts);
  }
  PathMatchingResourcePatternResolver resolver=new PathMatchingResourcePatternResolver(settings.getRootLoader());
  try {
    final Resource[] resources=resolver.getResources("classpath*:META-INF/scripts/*.groovy");
    for (    Resource resource : resources) {
      scripts.add(resource.getFile());
    }
  }
 catch (  IOException e) {
  }
  return scripts;
}
