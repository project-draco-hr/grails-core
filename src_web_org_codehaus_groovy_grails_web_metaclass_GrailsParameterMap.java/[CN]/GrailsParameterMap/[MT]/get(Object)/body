{
  if (!(key instanceof String))   throw new IllegalArgumentException("Parameter key '" + key + "' must be a string value");
  if (controllerParamsMap.containsKey(key)) {
    return controllerParamsMap.get(key);
  }
 else {
    String[] valueArray=(String[])parameterMap.get(key);
    if (valueArray == null)     return null;
    if (valueArray.length == 1)     return request.getParameter((String)key);
    return parameterMap.get(key);
  }
}
