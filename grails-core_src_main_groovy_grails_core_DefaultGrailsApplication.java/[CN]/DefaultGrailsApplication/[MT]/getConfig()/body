{
  if (config == null) {
    if (parentContext != null) {
      org.springframework.core.env.Environment environment=parentContext.getEnvironment();
      if (environment instanceof ConfigurableEnvironment) {
        MutablePropertySources propertySources=((ConfigurableEnvironment)environment).getPropertySources();
        this.config=new PropertySourcesConfig(propertySources);
      }
    }
 else {
      this.config=new PropertySourcesConfig();
      if (ClassUtils.isPresent("Config",classLoader)) {
        try {
          ConfigObject co=new ConfigSlurper().parse(ClassUtils.forName("Config",classLoader));
          this.config.merge(co);
        }
 catch (        ClassNotFoundException e) {
        }
      }
    }
    setConfig(this.config);
  }
  return config;
}
