{
  String scriptFileName=getScriptNameFromFile(scriptFile);
  setRunningEnvironment(commandLine,env);
  binding.setVariable("scriptName",scriptFileName);
  ScriptBindingInitializer bindingInitializer=new ScriptBindingInitializer(commandLine,settings,pluginPathSupport,isInteractive);
  Gant gant=new Gant(bindingInitializer.initBinding(binding,scriptName),classLoader);
  gant.setUseCache(true);
  gant.setCacheDirectory(scriptCacheDir);
  GantResult result=null;
  try {
    gant.loadScript(scriptFile.getURL());
    result=executeWithGantInstance(gant,CommandLine.DO_NOTHING_CLOSURE);
    return result.exitCode;
  }
 catch (  IOException e) {
    console.error("I/O exception loading script [" + e.getMessage() + "]: "+ e.getMessage());
    return 1;
  }
 finally {
    cleanup(result,binding);
  }
}
