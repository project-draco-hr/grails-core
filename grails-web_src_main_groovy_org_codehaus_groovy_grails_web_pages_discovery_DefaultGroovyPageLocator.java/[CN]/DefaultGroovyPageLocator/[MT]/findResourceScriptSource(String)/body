{
  List<String> searchPaths=null;
  if (Environment.isWarDeployed()) {
    if (uri.startsWith("/plugins")) {
      searchPaths=CollectionUtils.newList(GrailsResourceUtils.appendPiecesForUri(GrailsResourceUtils.WEB_INF,uri),uri);
    }
 else {
      searchPaths=CollectionUtils.newList(GrailsResourceUtils.appendPiecesForUri(PATH_TO_WEB_INF_VIEWS,uri),uri);
    }
  }
 else {
    searchPaths=CollectionUtils.newList(GrailsResourceUtils.appendPiecesForUri('/' + GrailsResourceUtils.VIEWS_DIR_PATH,uri),uri);
  }
  return findResourceScriptPathForSearchPaths(uri,searchPaths);
}
