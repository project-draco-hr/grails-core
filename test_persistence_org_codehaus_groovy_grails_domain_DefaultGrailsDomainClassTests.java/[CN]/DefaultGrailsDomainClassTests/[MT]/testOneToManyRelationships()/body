{
  GrailsApplication grailsApplication=new DefaultGrailsApplication(new Class[]{relClass,oneToManyClass,oneToOneClass,manyToManyClass},cl);
  grailsApplication.initialise();
  GrailsDomainClass c1dc=(GrailsDomainClass)grailsApplication.getArtefact(DomainClassArtefactHandler.TYPE,relClass.getName());
  GrailsDomainClass c2dc=(GrailsDomainClass)grailsApplication.getArtefact(DomainClassArtefactHandler.TYPE,oneToManyClass.getName());
  assertTrue(c1dc.getPropertyByName("ones").isOneToMany());
  assertTrue(c1dc.getPropertyByName("ones").isPersistent());
  assertFalse(c1dc.getPropertyByName("ones").isManyToMany());
  assertFalse(c1dc.getPropertyByName("ones").isManyToOne());
  assertFalse(c1dc.getPropertyByName("ones").isOneToOne());
  assertTrue(c2dc.getPropertyByName("other").isPersistent());
  assertTrue(c2dc.getPropertyByName("other").isManyToOne());
  assertFalse(c2dc.getPropertyByName("other").isManyToMany());
  assertFalse(c2dc.getPropertyByName("other").isOneToOne());
  assertFalse(c2dc.getPropertyByName("other").isOneToMany());
}
