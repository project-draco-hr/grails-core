{
  if (classNode instanceof InnerClassNode)   return;
  if (classNode.isEnum())   return;
  FieldNode field=classNode.getField(FIELD_MIME_TYPES_API);
  if (field == null) {
    final ClassNode mimeTypesApiClass=new ClassNode(ControllersMimeTypesApi.class);
    field=new FieldNode(FIELD_MIME_TYPES_API,PRIVATE_STATIC_MODIFIER,mimeTypesApiClass,classNode,new ConstructorCallExpression(mimeTypesApiClass,GrailsArtefactClassInjector.ZERO_ARGS));
    classNode.addField(field);
    final BlockStatement methodBody=new BlockStatement();
    final ArgumentListExpression args=new ArgumentListExpression();
    args.addExpression(new VariableExpression("this")).addExpression(new VariableExpression("callable"));
    methodBody.addStatement(new ExpressionStatement(new MethodCallExpression(new VariableExpression(FIELD_MIME_TYPES_API),WITH_FORMAT_METHOD,args)));
    classNode.addMethod(new MethodNode(WITH_FORMAT_METHOD,Modifier.PUBLIC,new ClassNode(Object.class),CLOSURE_PARAMETER,null,methodBody));
  }
}
