{
  String externalEventReceiverClassName=System.getProperty(EXTERNAL_EVENT_RECEIVER_CLASS_PROPERTY);
  if (externalEventReceiverClassName != null) {
    Class externalEventReceiverClass;
    try {
      externalEventReceiverClass=classLoader.loadClass(externalEventReceiverClassName);
    }
 catch (    ClassNotFoundException e) {
      throw new RuntimeException("Could not find specified CLI event receiver class",e);
    }
    if (!GrailsCliEventReceiver.class.isAssignableFrom(externalEventReceiverClass)) {
      throw new RuntimeException("Specified CLI Event receiever class of " + externalEventReceiverClassName + " does not implement "+ GrailsCliEventReceiver.class.getName());
    }
    try {
      externalEventReceiver=(GrailsCliEventReceiver)externalEventReceiverClass.newInstance();
    }
 catch (    Exception e) {
      throw new RuntimeException("Could not instantiate " + externalEventReceiverClassName,e);
    }
  }
}
