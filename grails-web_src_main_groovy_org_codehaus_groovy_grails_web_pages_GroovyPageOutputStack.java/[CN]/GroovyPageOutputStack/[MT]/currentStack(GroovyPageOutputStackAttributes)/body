{
  GroovyPageOutputStack outputStack=lookupStack(attributes.getWebRequest());
  if (outputStack != null) {
    if (attributes.isPushTop() && attributes.getTopWriter() != null) {
      outputStack.push(attributes,false);
    }
    return outputStack;
  }
  if (attributes.isAllowCreate()) {
    if (attributes.getTopWriter() == null) {
      attributes.setTopWriter(lookupRequestWriter(attributes.getWebRequest()));
    }
    return createNew(attributes);
  }
  return null;
}
