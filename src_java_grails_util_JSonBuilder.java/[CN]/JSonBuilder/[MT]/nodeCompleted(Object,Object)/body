{
  Object last=null;
  if (node != null) {
    try {
      int i=((Integer)node).intValue();
      while (i-- > 0) {
        last=stack.pop();
        if (Mode.ARRAY == last)         writer.endArray();
        if (Mode.OBJECT == last)         writer.endObject();
      }
    }
 catch (    JSONException e) {
      throw new IllegalArgumentException(JSON_BUILDER + "invalid element on the stack");
    }
  }
}
