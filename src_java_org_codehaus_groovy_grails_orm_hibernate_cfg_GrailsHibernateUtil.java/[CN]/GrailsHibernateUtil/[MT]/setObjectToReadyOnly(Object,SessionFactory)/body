{
  Session session=sessionFactory.getCurrentSession();
  if (canModifyReadWriteState(session,target)) {
    if (target instanceof HibernateProxy) {
      target=((HibernateProxy)target).getHibernateLazyInitializer().getImplementation();
    }
    session.setReadOnly(target,true);
    session.setFlushMode(FlushMode.MANUAL);
  }
}
