{
  try {
    Resource resourceURL=loadGroovySource(name);
    if (resourceURL != null) {
      GroovyClassLoader innerLoader=new GrailsAwareClassLoader(this);
      InputStream inputStream=null;
      clearCache();
      try {
        inputStream=resourceURL.getInputStream();
        Class<?> reloadedClass=innerLoader.parseClass(DefaultGroovyMethods.getText(inputStream),name);
        compilationErrors.remove(name);
        innerClassLoaderMap.put(name,innerLoader);
        return reloadedClass;
      }
 catch (      MultipleCompilationErrorsException e) {
        compilationErrors.put(name,e);
        throw e;
      }
catch (      IOException e) {
        throw new CompilationFailedException("Error opening stream to class " + name + " with URL "+ resourceURL,e);
      }
 finally {
        IOUtils.closeQuietly(inputStream);
      }
    }
    return null;
  }
 catch (  MalformedURLException e) {
    throw new CompilationFailedException("Error opening stream to class " + name + ":"+ e.getMessage(),e);
  }
}
