{
  AbstractBeanDefinition bd;
  if (constructorArgs.size() > 0) {
    ConstructorArgumentValues cav=new ConstructorArgumentValues();
    for (Iterator i=constructorArgs.iterator(); i.hasNext(); ) {
      cav.addGenericArgumentValue(i.next());
    }
    if (StringUtils.isBlank(parentName)) {
      bd=new RootBeanDefinition(clazz,cav,null);
    }
 else {
      bd=new ChildBeanDefinition(parentName,clazz,cav,null);
    }
    bd.setSingleton(singleton);
  }
 else {
    if (StringUtils.isBlank(parentName)) {
      bd=new RootBeanDefinition(clazz,singleton);
    }
 else {
      bd=new ChildBeanDefinition(parentName,clazz,null,null);
      bd.setSingleton(singleton);
    }
  }
  wrapper=new BeanWrapperImpl(bd);
  return bd;
}
