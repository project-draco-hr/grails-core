{
  Map map=(Map)value;
  boolean containsRuntimeRefs=false;
  for (Iterator i=map.values().iterator(); i.hasNext(); ) {
    Object e=i.next();
    if (e instanceof RuntimeBeanReference) {
      containsRuntimeRefs=true;
      break;
    }
  }
  if (containsRuntimeRefs) {
    Map managedMap=new ManagedMap();
    managedMap.putAll(map);
    return managedMap;
  }
  return value;
}
