{
  new Thread(new Runnable(){
    public void run(){
      int killListenerPort=serverPort + 1;
      ServerSocket serverSocket=createKillSwitch(killListenerPort);
      if (serverSocket != null) {
        try {
          serverSocket.accept();
          try {
            tomcat.stop();
          }
 catch (          LifecycleException e) {
            System.err.println("Error stopping Tomcat: " + e.getMessage());
            System.exit(1);
          }
        }
 catch (        IOException e) {
        }
      }
    }
  }
).start();
}
