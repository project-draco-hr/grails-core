{
  Object map=args.length > 0 ? args[0] : null;
  Object instance;
  if (applicationContext != null && applicationContext.containsBean(clazz.getName())) {
    instance=applicationContext.getBean(clazz.getName());
  }
 else {
    try {
      instance=clazz.newInstance();
    }
 catch (    InstantiationException e1) {
      throw new GrailsDomainException("Error instantiated class [" + clazz + "]: "+ e1.getMessage(),e1);
    }
catch (    IllegalAccessException e1) {
      throw new GrailsDomainException("Illegal access instantiated class [" + clazz + "]: "+ e1.getMessage(),e1);
    }
  }
  if (map != null) {
    if (map instanceof GrailsParameterMap) {
      GrailsParameterMap parameterMap=(GrailsParameterMap)map;
      HttpServletRequest request=parameterMap.getRequest();
      ServletRequestDataBinder dataBinder=GrailsDataBinder.createBinder(instance,instance.getClass().getName(),request);
      dataBinder.bind(request);
      return instance;
    }
 else     if (map instanceof HttpServletRequest) {
      HttpServletRequest request=(HttpServletRequest)map;
      ServletRequestDataBinder dataBinder=GrailsDataBinder.createBinder(instance,instance.getClass().getName(),request);
      dataBinder.bind(request);
      return instance;
    }
 else     if (map instanceof Map) {
      DataBinder dataBinder=new DataBinder(instance);
      Map m=convertPotentialGStrings((Map)map);
      PropertyValues pv=new MutablePropertyValues(m);
      dataBinder.bind(pv);
    }
  }
  return instance;
}
