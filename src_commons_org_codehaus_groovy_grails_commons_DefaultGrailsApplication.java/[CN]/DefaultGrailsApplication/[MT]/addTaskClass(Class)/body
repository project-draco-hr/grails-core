{
  if (Modifier.isAbstract(loadedClass.getModifiers())) {
    return null;
  }
  if (GrailsClassUtils.isTaskClass(loadedClass)) {
    GrailsTaskClass grailsTaskClass=new DefaultGrailsTaskClass(loadedClass);
    if (grailsTaskClass.getAvailable()) {
      this.taskMap.put(grailsTaskClass.getFullName(),grailsTaskClass);
    }
    this.taskClasses=((GrailsTaskClass[])this.taskMap.values().toArray(new GrailsTaskClass[taskMap.size()]));
    return grailsTaskClass;
  }
 else {
    throw new GrailsConfigurationException("Cannot load task class [" + loadedClass + "]. It is not a task!");
  }
}
