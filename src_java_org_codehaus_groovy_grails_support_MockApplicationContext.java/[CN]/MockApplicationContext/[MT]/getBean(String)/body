{
  if (!beans.containsKey(name)) {
    if (!beanFactory.containsBean(name)) {
      throw new NoSuchBeanDefinitionException(name);
    }
 else {
      return beanFactory.getBean(name);
    }
  }
 else {
    return beans.get(name);
  }
}
