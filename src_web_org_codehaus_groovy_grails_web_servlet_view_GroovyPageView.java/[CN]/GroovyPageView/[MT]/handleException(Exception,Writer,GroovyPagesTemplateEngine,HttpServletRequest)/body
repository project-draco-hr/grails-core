{
  GrailsUtil.sanitize(exception);
  LOG.error("Error processing GroovyPageView: " + exception.getMessage(),exception);
  try {
    request.setAttribute(GrailsApplicationAttributes.CONTROLLER,null);
    Template t=engine.createTemplate(ERRORS_VIEW);
    Map model=new HashMap();
    model.put(EXCEPTION_MODEL_KEY,new GrailsWrappedRuntimeException(getServletContext(),exception));
    Writable w=t.make(model);
    w.writeTo(out);
  }
 catch (  Throwable t) {
    LOG.error("Error attempting to render errors view : " + t.getMessage(),t);
    LOG.error("Original exception : " + exception.getMessage(),exception);
  }
}
