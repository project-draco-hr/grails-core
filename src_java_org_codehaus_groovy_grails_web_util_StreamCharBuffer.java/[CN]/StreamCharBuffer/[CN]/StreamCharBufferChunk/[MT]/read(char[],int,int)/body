{
  int readLen=len;
  int readOff=off;
  while (readLen > 0) {
    if (prepareSubChunkRead()) {
      int readCharsLen=readingSubChunkGroup.read(ch,readOff,readLen);
      readLen-=readCharsLen;
      readOff+=readCharsLen;
      if (readingSubChunkGroup.getUnreadChars() == 0) {
        readingSubChunkGroup=null;
      }
    }
    if (readLen > 0) {
      int nextCharArrPointerPos=-1;
      if (subChunkGroups != null && !subChunkGroups.isEmpty()) {
        nextCharArrPointerPos=subChunkGroups.peek().getOwnerIndex();
      }
      int actualReadLen=readLen;
      if (nextCharArrPointerPos != -1 && nextCharArrPointerPos < pointer + readLen) {
        actualReadLen=nextCharArrPointerPos - pointer;
      }
      arrayCopy(buffer,pointer,ch,readOff,actualReadLen);
      readLen-=actualReadLen;
      readOff+=actualReadLen;
      pointer+=actualReadLen;
    }
  }
}
