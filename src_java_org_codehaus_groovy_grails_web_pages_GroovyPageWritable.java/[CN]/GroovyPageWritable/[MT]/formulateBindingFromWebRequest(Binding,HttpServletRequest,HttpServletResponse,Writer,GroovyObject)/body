{
  GrailsWebRequest webRequest=(GrailsWebRequest)request.getAttribute(GrailsApplicationAttributes.WEB_REQUEST);
  binding.setVariable(GroovyPage.WEB_REQUEST,webRequest);
  binding.setVariable(GroovyPage.REQUEST,request);
  binding.setVariable(GroovyPage.RESPONSE,response);
  binding.setVariable(GroovyPage.FLASH,webRequest.getFlashScope());
  binding.setVariable(GroovyPage.SERVLET_CONTEXT,context);
  ApplicationContext appCtx=webRequest.getAttributes().getApplicationContext();
  binding.setVariable(GroovyPage.APPLICATION_CONTEXT,appCtx);
  if (appCtx != null)   binding.setVariable(GrailsApplication.APPLICATION_ID,webRequest.getAttributes().getGrailsApplication());
  binding.setVariable(GroovyPage.SESSION,webRequest.getSession());
  binding.setVariable(GroovyPage.PARAMS,webRequest.getParams());
  binding.setVariable(GroovyPage.ACTION_NAME,webRequest.getActionName());
  binding.setVariable(GroovyPage.CONTROLLER_NAME,webRequest.getControllerName());
  if (controller != null) {
    binding.setVariable(GrailsApplicationAttributes.CONTROLLER,controller);
    binding.setVariable(GroovyPage.PLUGIN_CONTEXT_PATH,controller.getProperty(GroovyPage.PLUGIN_CONTEXT_PATH));
  }
  binding.setVariable(GroovyPage.OUT,out);
}
