{
synchronized (FactoryHolder.class) {
    if (factory != null)     throw new IllegalStateException("Cannot set Sitemesh factory it has already been set!");
 else {
      factory=newFactory;
    }
  }
}
