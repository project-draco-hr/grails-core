{
  StringBuffer buf=new StringBuffer();
  int optionalIndex=0;
  for (int i=0; i < tokens.length; i++) {
    String token=tokens[i].trim();
    if (tokens.equals(SLASH))     continue;
    if (token.endsWith("?")) {
      urls.add(buf.toString());
      tokens[i]=token.substring(0,token.length() - 1);
      buf.append(SLASH).append(tokens[i]);
    }
 else {
      buf.append(SLASH).append(token);
    }
    if (CAPTURED_WILDCARD.equals(tokens[i])) {
      optionalTokens.add(Boolean.TRUE);
    }
 else {
      optionalTokens.add(Boolean.FALSE);
    }
  }
  urls.add(buf.toString());
  Collections.reverse(urls);
}
