{
  for (Iterator i=this.propertyMap.values().iterator(); i.hasNext(); ) {
    DefaultGrailsDomainClassProperty currentProp=(DefaultGrailsDomainClassProperty)i.next();
    Class currentPropType=currentProp.getType();
    if (Set.class.isAssignableFrom(currentPropType) && currentProp.isPersistent()) {
      establishRelationshipForSet(currentProp);
    }
 else     if (GrailsClassUtils.isDomainClass(currentPropType) && currentProp.isPersistent()) {
      establishDomainClassRelationship(currentProp);
    }
 else     if (!GrailsDomainConfigurationUtil.isBasicType(currentProp)) {
      establishDomainClassRelationship(currentProp);
    }
  }
}
