{
  super(target,objectName);
  bean=((BeanPropertyBindingResult)super.getBindingResult()).getPropertyAccessor();
  String[] disallowed=new String[0];
  GrailsApplication grailsApplication=ApplicationHolder.getApplication();
  if (grailsApplication != null && grailsApplication.isArtefactOfType(DomainClassArtefactHandler.TYPE,target.getClass())) {
    if (target instanceof GroovyObject) {
      disallowed=GROOVY_DOMAINCLASS_DISALLOWED;
    }
 else {
      disallowed=DOMAINCLASS_DISALLOWED;
    }
  }
 else   if (target instanceof GroovyObject) {
    disallowed=GROOVY_DISALLOWED;
  }
  setDisallowedFields(disallowed);
  setAllowedFields(ALL_OTHER_FIELDS_ALLOWED_BY_DEFAULT);
  registerCustomEditors();
}
