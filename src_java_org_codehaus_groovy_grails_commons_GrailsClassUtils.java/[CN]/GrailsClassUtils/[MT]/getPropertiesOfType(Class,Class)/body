{
  if (clazz == null || propertyType == null)   return new PropertyDescriptor[0];
  Set properties=new HashSet();
  try {
    PropertyDescriptor[] descriptors=BeanUtils.getPropertyDescriptors(clazz);
    for (int i=0; i < descriptors.length; i++) {
      Class currentPropertyType=descriptors[i].getPropertyType();
      if (isTypeInstanceOfPropertyType(propertyType,currentPropertyType)) {
        properties.add(descriptors[i]);
      }
    }
  }
 catch (  Exception e) {
    return new PropertyDescriptor[0];
  }
  return (PropertyDescriptor[])properties.toArray(new PropertyDescriptor[properties.size()]);
}
