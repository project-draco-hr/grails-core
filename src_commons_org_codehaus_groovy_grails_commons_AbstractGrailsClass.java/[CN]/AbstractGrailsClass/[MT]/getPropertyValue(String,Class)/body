{
  BeanWrapper ref=getReference();
  Object value=null;
  if (ref.isReadableProperty(name)) {
    value=ref.getPropertyValue(name);
  }
 else {
    Object inst=ref.getWrappedInstance();
    if (inst instanceof GroovyObject) {
      try {
        value=((GroovyObject)inst).getProperty(name);
      }
 catch (      MissingPropertyException e) {
      }
    }
  }
  if (value != null && (type.isAssignableFrom(value.getClass()) || GrailsClassUtils.isMatchBetweenPrimativeAndWrapperTypes(type,value.getClass()))) {
    return value;
  }
 else {
    return null;
  }
}
