{
  final Resource descriptorResource=descriptor.getResource();
  final Resource i18nDir;
  try {
    i18nDir=descriptorResource.createRelative("grails-app/i18n");
  }
 catch (  IOException e) {
    return null;
  }
  if (i18nDir == null) {
    return null;
  }
  Properties properties=new Properties();
  final String defaultName=getBaseMessagesProperties();
  attemptLoadProperties(descriptorResource,properties,defaultName);
  for (  String filename : calculateFilenamesForLocale(defaultName,locale)) {
    attemptLoadProperties(descriptorResource,properties,filename);
  }
  return properties;
}
