{
  Collection keys=this.params.keySet();
  keys=DefaultGroovyMethods.toList(keys);
  Collections.sort((List)keys,new Comparator(){
    public int compare(    Object leftKey,    Object rightKey){
      Object leftValue=params.get(leftKey);
      Object rightValue=params.get(rightKey);
      boolean leftIsClosure=leftValue instanceof Closure;
      boolean rightIsClosure=rightValue instanceof Closure;
      if (leftIsClosure && rightIsClosure)       return 0;
 else       if (leftIsClosure && !rightIsClosure)       return 1;
 else       if (rightIsClosure && !leftIsClosure)       return -1;
      return 0;
    }
  }
);
  for (Iterator j=keys.iterator(); j.hasNext(); ) {
    String name=(String)j.next();
    Object param=this.params.get(name);
    if (param instanceof Closure) {
      param=evaluateNameForValue(param);
    }
    if (param instanceof String) {
      try {
        param=decoder.decode((String)param,"UTF-8");
      }
 catch (      UnsupportedEncodingException e) {
        param=evaluateNameForValue(param);
      }
    }
    dispatchParams.put(name,param);
  }
}
