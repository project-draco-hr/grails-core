{
  GroovyClassLoader gcl=new GroovyClassLoader(Thread.currentThread().getContextClassLoader());
  Class<?> dc=gcl.parseClass("class Test { \n" + "    Long id\n" + "    Long version\n"+ "    String zip\n"+ "    String dob\n"+ "    Date age\n"+ "    String name\n"+ "    static constraints = {\n"+ "        name(size:5..15)\n"+ "        age()\n"+ "    }\n"+ "}\n");
  GrailsDomainClass domainClass=new DefaultGrailsDomainClass(dc);
  DomainClassPropertyComparator comp=new DomainClassPropertyComparator(domainClass);
  GrailsDomainClassProperty[] props=domainClass.getProperties();
  Arrays.sort(props,comp);
  for (int i=0; i < props.length; i++) {
    System.out.println(props[i].getName());
  }
  List<String> nonConstrainedProps=new ArrayList<String>();
  nonConstrainedProps.add("zip");
  nonConstrainedProps.add("dob");
  nonConstrainedProps.add("version");
  assertEquals("id",props[0].getName());
  assertEquals("name",props[1].getName());
  assertEquals("age",props[2].getName());
  assertTrue(nonConstrainedProps.contains(props[3].getName()));
  assertTrue(nonConstrainedProps.contains(props[4].getName()));
  assertTrue(nonConstrainedProps.contains(props[5].getName()));
}
