{
  if (criterion instanceof FunctionCallingCriterion) {
    org.hibernate.criterion.Criterion sqlRestriction=getRestrictionForFunctionCall((FunctionCallingCriterion)criterion,entity);
    if (sqlRestriction != null) {
      addToCriteria(sqlRestriction);
    }
  }
 else   if (criterion instanceof PropertyCriterion) {
    PropertyCriterion pc=(PropertyCriterion)criterion;
    Object value=pc.getValue();
    if (value instanceof QueryableCriteria) {
      DetachedCriteria hibernateDetachedCriteria=HibernateCriteriaBuilder.getHibernateDetachedCriteria((QueryableCriteria)value);
      pc.setValue(hibernateDetachedCriteria);
    }
 else {
      doTypeConversionIfNeccessary(getEntity(),pc);
    }
  }
  final org.hibernate.criterion.Criterion hibernateCriterion=new HibernateCriterionAdapter(getEntity(),criterion,alias).toHibernateCriterion(this);
  if (hibernateCriterion != null) {
    addToCriteria(hibernateCriterion);
  }
}
