{
  GrailsDomainClass one2ManyDomain=grailsApplication.getGrailsDomainClass("org.codehaus.groovy.grails.domain.RelationshipsTest");
  GroovyObject one2many=one2ManyDomain.newInstance();
  GroovyObject many2one=grailsApplication.getGrailsDomainClass("org.codehaus.groovy.grails.domain.OneToManyTest2").newInstance();
  HibernateTemplate template=new HibernateTemplate(this.sessionFactory);
  assertNotNull(many2one);
  Set set=new HashSet();
  one2many.setProperty("ones",set);
  template.save(one2many);
  many2one.setProperty("other",one2many);
  template.save(many2one);
  one2many=(GroovyObject)template.get(one2ManyDomain.getClazz(),new Long(1));
  assertNotNull(one2many);
  set=(Set)one2many.getProperty("ones");
  assertNotNull(set);
  assertEquals(1,set.size());
}
