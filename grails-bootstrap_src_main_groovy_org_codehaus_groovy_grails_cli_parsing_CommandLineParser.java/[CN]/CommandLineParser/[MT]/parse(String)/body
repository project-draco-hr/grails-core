{
  DefaultCommandLine cl=createCommandLine();
  boolean first=true;
  for (  String arg : args) {
    if (arg == null)     continue;
    String trimmed=arg.trim();
    if (trimmed != null && trimmed.length() > 0) {
      if (trimmed.charAt(0) == '-') {
        processOption(cl,trimmed);
      }
 else {
        if (ENV_ARGS.containsKey(trimmed)) {
          cl.setEnvironment(ENV_ARGS.get(trimmed));
        }
 else {
          if (first) {
            cl.setCommandName(trimmed);
            first=false;
          }
 else {
            cl.addRemainingArg(trimmed);
          }
        }
      }
    }
  }
  return cl;
}
