{
  String clazzName="CriteriaBuilderTestClass";
  GrailsDomainClass domainClass=(GrailsDomainClass)this.grailsApplication.getArtefact(DomainClassArtefactHandler.TYPE,clazzName);
  assertNotNull(domainClass);
  GroovyObject obj=(GroovyObject)domainClass.newInstance();
  obj.setProperty("firstName","homer");
  obj.setProperty("lastName","simpson");
  obj.setProperty("age",new Integer(45));
  obj.invokeMethod("save",null);
  Proxy p=null;
  p=parse(".list { " + "eq('firstName','homer');" + "}","Test1","CriteriaBuilderTestClass",true);
  Object result=p.getAdaptee();
  assertEquals(clazzName,result.getClass().getName());
  Proxy p2=parse(".list { " + "eq('firstName','homer');" + "}","Test1","CriteriaBuilderTestClass",false);
  Object result2=p2.getAdaptee();
  assertTrue(List.class.isAssignableFrom(result2.getClass()));
}
