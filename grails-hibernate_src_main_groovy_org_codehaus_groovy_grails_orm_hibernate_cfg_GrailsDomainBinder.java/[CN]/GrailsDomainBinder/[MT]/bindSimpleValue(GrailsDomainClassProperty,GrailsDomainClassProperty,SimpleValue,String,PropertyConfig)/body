{
  setTypeForPropertyConfig(grailsProp,simpleValue,propertyConfig);
  if (propertyConfig != null && propertyConfig.getFormula() != null) {
    Formula formula=new Formula();
    formula.setFormula(propertyConfig.getFormula());
    simpleValue.addFormula(formula);
  }
 else {
    Table table=simpleValue.getTable();
    List<?> columnDefinitions=propertyConfig != null ? propertyConfig.getColumns() : Arrays.asList(new Object[]{null});
    if (columnDefinitions.isEmpty()) {
      columnDefinitions=Arrays.asList(new Object[]{null});
    }
    for (int i=0, n=columnDefinitions.size(); i < n; i++) {
      ColumnConfig cc=(ColumnConfig)columnDefinitions.get(i);
      Column column=new Column();
      if (cc != null) {
        if (cc.getName() != null) {
          column.setName(cc.getName());
        }
        if (cc.getSqlType() != null) {
          column.setSqlType(cc.getSqlType());
        }
      }
      column.setValue(simpleValue);
      bindColumn(grailsProp,parentProperty,column,cc,path,table);
      if (cc != null) {
        if (cc.getLength() != -1) {
          column.setLength(cc.getLength());
        }
        if (cc.getPrecision() != -1) {
          column.setPrecision(cc.getPrecision());
        }
        if (cc.getScale() != -1) {
          column.setScale(cc.getScale());
        }
        column.setUnique(cc.isUnique());
      }
      if (table != null)       table.addColumn(column);
      simpleValue.addColumn(column);
    }
  }
}
