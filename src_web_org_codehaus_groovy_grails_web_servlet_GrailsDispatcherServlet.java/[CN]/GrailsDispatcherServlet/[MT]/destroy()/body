{
  WebApplicationContext webContext=getWebApplicationContext();
  GrailsApplication application=(GrailsApplication)webContext.getBean(GrailsApplication.APPLICATION_ID,GrailsApplication.class);
  GrailsClass[] bootstraps=application.getArtefacts(BootstrapArtefactHandler.TYPE);
  for (int i=0; i < bootstraps.length; i++) {
    ((GrailsBootstrapClass)bootstraps[i]).callDestroy();
  }
  if (application.isWarDeployed()) {
    ApplicationHolder.setApplication(null);
    ServletContextHolder.setServletContext(null);
    PluginManagerHolder.setPluginManager(null);
    ConfigurationHolder.setConfig(null);
  }
  super.destroy();
}
