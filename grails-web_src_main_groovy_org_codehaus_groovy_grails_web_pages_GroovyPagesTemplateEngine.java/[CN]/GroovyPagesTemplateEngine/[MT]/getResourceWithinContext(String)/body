{
  Assert.state(resourceLoader != null,"TemplateEngine not initialised correctly, no [resourceLoader] specified!");
  if (resourceLoaderDefined) {
    return resourceLoader.getResource(uri);
  }
  Resource r=servletContextLoader.getResource(uri);
  if (r.exists()) {
    return r;
  }
  return resourceLoader.getResource(uri);
}
