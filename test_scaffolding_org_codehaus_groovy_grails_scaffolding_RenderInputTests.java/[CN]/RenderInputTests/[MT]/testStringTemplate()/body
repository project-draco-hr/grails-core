{
  SimpleTemplateEngine templateEngine=new SimpleTemplateEngine();
  Template template=templateEngine.createTemplate(new File("src/war/WEB-INF/internal/render/java.lang.String.gsp"));
  Map binding=new HashMap();
  binding.put("name","testName");
  binding.put("value","testValue");
  binding.put("constraints",null);
  Document xml=DocumentHelper.parseText(template.make(binding).toString());
  assertEquals("textarea",xml.getRootElement().getName());
  assertEquals("testName",xml.getRootElement().attributeValue("name"));
  assertEquals("testValue",xml.getRootElement().getText());
  ConstrainedProperty cp=new ConstrainedProperty(Object.class,"testName",String.class);
  cp.setMaxLength(50);
  cp.setEditable(false);
  Map attributes=new HashMap();
  attributes.put("class","MyClass");
  cp.setAttributes(attributes);
  binding.put("constraints",cp);
  System.out.println(template.make(binding).toString());
  xml=DocumentHelper.parseText(template.make(binding).toString());
  assertEquals("input",xml.getRootElement().getName());
  assertEquals("text",xml.getRootElement().attributeValue("type"));
  assertEquals("50",xml.getRootElement().attributeValue("maxlength"));
  assertEquals("testName",xml.getRootElement().attributeValue("name"));
  assertEquals("testValue",xml.getRootElement().attributeValue("value"));
  assertEquals("MyClass",xml.getRootElement().attributeValue("class"));
  assertEquals("readonly",xml.getRootElement().attributeValue("readonly"));
}
