{
  KeyValue keyValue;
  DependantValue key;
  String propertyRef=collection.getReferencedPropertyName();
  if (propertyRef == null) {
    keyValue=collection.getOwner().getIdentifier();
  }
 else {
    keyValue=(KeyValue)collection.getOwner().getProperty(propertyRef).getValue();
  }
  if (LOG.isDebugEnabled())   LOG.debug("[GrailsDomainBinder] creating dependant key value  to table [" + keyValue.getTable().getName() + "]");
  key=new DependantValue(collection.getCollectionTable(),keyValue);
  key.setTypeName(null);
  key.setNullable(true);
  key.setUpdateable(false);
  return key;
}
