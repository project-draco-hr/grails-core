{
  if (target instanceof StreamCharBufferWriter) {
    ((StreamCharBufferWriter)target).write(this);
  }
 else {
    while (prepareRead(flushAll) != -1) {
      totalCharsUnread-=currentReadChunk.writeTo(target);
    }
    if (flushTarget) {
      target.flush();
    }
  }
}
