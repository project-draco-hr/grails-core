{
  ConfigurationHolder.setConfig(null);
  ApplicationHolder.setApplication(null);
  MetaClassRegistry metaClassRegistry=GroovySystem.getMetaClassRegistry();
  Class[] loadedClasses=gcl.getLoadedClasses();
  for (int i=0; i < loadedClasses.length; i++) {
    Class loadedClass=loadedClasses[i];
    metaClassRegistry.removeMetaClass(loadedClass);
  }
  metaClassRegistry.setMetaClassCreationHandle(new MetaClassRegistry.MetaClassCreationHandle());
  PluginManagerHolder.setPluginManager(null);
  if (TransactionSynchronizationManager.hasResource(this.sessionFactory)) {
    SessionHolder holder=(SessionHolder)TransactionSynchronizationManager.getResource(this.sessionFactory);
    org.hibernate.Session s=holder.getSession();
    TransactionSynchronizationManager.unbindResource(this.sessionFactory);
    SessionFactoryUtils.releaseSession(s,this.sessionFactory);
  }
  onTearDown();
  gcl=null;
  ga=null;
  session=null;
  sessionFactory=null;
  applicationContext=null;
  super.tearDown();
}
