{
  final GroovyAwareJavassistLazyInitializer instance=new GroovyAwareJavassistLazyInitializer(entityName,persistentClass,interfaces,id,getIdentifierMethod,setIdentifierMethod,componentIdType,session);
  final HibernateProxy proxy;
  try {
    proxy=(HibernateProxy)factory.newInstance();
  }
 catch (  Exception e) {
    throw new HibernateException("Javassist Enhancement failed: " + persistentClass.getName(),e);
  }
  ((ProxyObject)proxy).setHandler(instance);
  instance.constructed=true;
  HibernatePluginSupport.initializeDomain(persistentClass);
  HibernatePluginSupport.enhanceProxy(proxy);
  return proxy;
}
