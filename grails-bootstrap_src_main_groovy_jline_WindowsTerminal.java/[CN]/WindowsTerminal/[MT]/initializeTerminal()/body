{
  loadLibrary("jline");
  final int originalMode=getConsoleMode();
  setConsoleMode(originalMode & ~ENABLE_ECHO_INPUT);
  int newMode=originalMode & ~(ENABLE_LINE_INPUT | ENABLE_ECHO_INPUT | ENABLE_PROCESSED_INPUT| ENABLE_WINDOW_INPUT);
  echoEnabled=false;
  setConsoleMode(newMode);
  try {
    Runtime.getRuntime().addShutdownHook(new Thread(){
      public void start(){
        setConsoleMode(originalMode);
      }
    }
);
  }
 catch (  AbstractMethodError ame) {
    consumeException(ame);
  }
}
