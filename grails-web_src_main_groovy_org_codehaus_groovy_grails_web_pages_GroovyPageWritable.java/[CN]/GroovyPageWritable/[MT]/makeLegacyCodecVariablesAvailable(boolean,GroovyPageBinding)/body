{
  if (metaInfo.getExpressionEncoder() != null) {
    if (hasRequest) {
      request.setAttribute(GrailsApplicationAttributes.GSP_CODEC,metaInfo.getExpressionEncoder().getCodecIdentifier().getCodecName());
    }
    binding.setVariableDirectly(GroovyPage.CODEC_VARNAME,metaInfo.getExpressionEncoder());
  }
 else {
    if (hasRequest) {
      request.setAttribute(GrailsApplicationAttributes.GSP_CODEC,GSP_NONE_CODEC_NAME);
    }
    binding.setVariableDirectly(GroovyPage.CODEC_VARNAME,gspNoneCodeInstance);
  }
}
