{
  if (clazz == null || propertySuperType == null)   return new PropertyDescriptor[0];
  Set properties=new HashSet();
  try {
    PropertyDescriptor[] descriptors=BeanUtils.getPropertyDescriptors(clazz);
    for (int i=0; i < descriptors.length; i++) {
      if (propertySuperType.isAssignableFrom(descriptors[i].getPropertyType())) {
        properties.add(descriptors[i]);
      }
    }
  }
 catch (  Exception e) {
    return new PropertyDescriptor[0];
  }
  return (PropertyDescriptor[])properties.toArray(new PropertyDescriptor[properties.size()]);
}
