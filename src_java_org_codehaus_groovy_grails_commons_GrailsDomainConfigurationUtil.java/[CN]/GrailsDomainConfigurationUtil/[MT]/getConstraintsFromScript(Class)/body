{
  String className=theClass.getName();
  String constraintsScript=className.replaceAll("\\.","/") + CONSTRAINTS_GROOVY;
  InputStream stream=GrailsDomainConfigurationUtil.class.getClassLoader().getResourceAsStream(constraintsScript);
  if (stream != null) {
    GroovyClassLoader gcl=new GroovyClassLoader();
    try {
      Class scriptClass=gcl.parseClass(DefaultGroovyMethods.getText(stream));
      Script script=(Script)scriptClass.newInstance();
      script.run();
      Binding binding=script.getBinding();
      if (binding.getVariables().containsKey(PROPERTY_NAME)) {
        return (Closure)binding.getVariable(PROPERTY_NAME);
      }
      LOG.warn("Unable to evaluate constraints from [" + constraintsScript + "], constraints closure not found!");
      return null;
    }
 catch (    CompilationFailedException e) {
      LOG.error("Compilation error evaluating constraints for class [" + theClass + "]: "+ e.getMessage(),e);
      return null;
    }
catch (    InstantiationException e) {
      LOG.error("Instantiation error evaluating constraints for class [" + theClass + "]: "+ e.getMessage(),e);
      return null;
    }
catch (    IllegalAccessException e) {
      LOG.error("Illegal access error evaluating constraints for class [" + theClass + "]: "+ e.getMessage(),e);
      return null;
    }
catch (    IOException e) {
      LOG.error("IO error evaluating constraints for class [" + theClass + "]: "+ e.getMessage(),e);
    }
  }
  return null;
}
