{
  Object val=getVariablesMap().get(name);
  if (val == null && !getVariablesMap().containsKey(name)) {
    if (GroovyPage.PAGE_SCOPE.equals(name))     return this;
    if (parent != null) {
      val=parent.getVariable(name);
      if (val != null) {
        getVariablesMap().put(name,val);
        cachedParentVariableNames.add(name);
      }
    }
    if (val == null && !name.equals(GroovyPage.PLUGIN_CONTEXT_PATH) && !name.equals("pagePlugin")) {
      MetaProperty metaProperty=getMetaClass().getMetaProperty(name);
      if (metaProperty != null) {
        val=metaProperty.getProperty(this);
      }
    }
  }
  return val;
}
