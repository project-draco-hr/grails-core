{
  GroovyClassLoader cl=new GroovyClassLoader();
  GrailsDomainClass domainClass=new DefaultGrailsDomainClass(cl.parseClass("class TestInsertableDomain {\n" + "    Long id \n" + "    Long version \n"+ "    String testString1 \n"+ "    String testString2 \n"+ "\n"+ "    static mapping = {\n"+ "       testString1 insertable:false \n"+ "       testString2 insertable:true \n"+ "    }\n"+ "}"));
  DefaultGrailsDomainConfiguration config=getDomainConfig(cl,new Class[]{domainClass.getClazz()});
  Field privateDomainClasses=DefaultGrailsDomainConfiguration.class.getDeclaredField("domainClasses");
  privateDomainClasses.setAccessible(true);
  PersistentClass persistentClass=config.getClassMapping("TestInsertableDomain");
  Property property1=persistentClass.getProperty("testString1");
  assertEquals(false,property1.isInsertable());
  Property property2=persistentClass.getProperty("testString2");
  assertEquals(true,property2.isInsertable());
}
