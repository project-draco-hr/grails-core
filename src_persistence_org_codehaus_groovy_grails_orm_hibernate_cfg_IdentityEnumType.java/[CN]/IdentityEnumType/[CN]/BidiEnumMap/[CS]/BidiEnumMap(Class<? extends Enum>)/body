{
  if (LOG.isDebugEnabled()) {
    LOG.debug(String.format("Building Bidirectional Enum Map..."));
  }
  EnumMap enumToKey=new EnumMap(enumClass);
  HashMap keytoEnum=new HashMap();
  Method idAccessor=enumClass.getMethod(ENUM_ID_ACCESSOR);
  keyType=idAccessor.getReturnType();
  Method valuesAccessor=enumClass.getMethod("values");
  Object[] values=(Object[])valuesAccessor.invoke(enumClass);
  for (  Object value : values) {
    Object id=idAccessor.invoke(value);
    enumToKey.put(value,id);
    if (keytoEnum.containsKey(id)) {
      LOG.warn(String.format("Duplicate Enum ID '%s' detected for Enum %s!",id,enumClass.getName()));
    }
    keytoEnum.put(id,value);
  }
  this.enumToKey=Collections.unmodifiableMap(enumToKey);
  this.keytoEnum=Collections.unmodifiableMap(keytoEnum);
}
