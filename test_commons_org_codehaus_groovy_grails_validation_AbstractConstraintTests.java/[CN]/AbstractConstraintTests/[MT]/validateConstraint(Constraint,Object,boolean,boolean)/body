{
  BeanWrapper constrainedBean=new BeanWrapperImpl(new TestClass());
  constrainedBean.setPropertyValue(constraint.getPropertyName(),value);
  Errors errors=new BindException(constrainedBean.getWrappedInstance(),constrainedBean.getWrappedClass().getName());
  try {
    constraint.validate(constrainedBean.getWrappedInstance(),value,errors);
    if (shouldVeto && !skipVetoingErrors)     fail("Constraint should throw ConstraintVetoingException");
  }
 catch (  ConstraintVetoingException cve) {
    if (!shouldVeto && !skipVetoingErrors)     fail("Constraint shouldn't throw ConstraintVetoingException");
  }
  return errors;
}
