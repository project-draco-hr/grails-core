{
  DependencyConfigurationContext context;
  IvyDependencyManager dependencyManager=(IvyDependencyManager)this;
  if (pluginName == null) {
    context=DependencyConfigurationContext.forApplication(dependencyManager);
  }
 else {
    context=DependencyConfigurationContext.forPlugin(dependencyManager,pluginName);
  }
  context.setOffline(offline);
  context.setParentScope(scope);
  context.setExcludeRules(excludeRules);
  definition.setDelegate(new DependencyConfigurationConfigurer(context));
  definition.setResolveStrategy(Closure.DELEGATE_FIRST);
  definition.call();
}
