{
  AbstractChunk current=firstChunk;
  while (current != null) {
    current.writeTo(target);
    current=current.next;
  }
  if (emptyAfter) {
    firstChunk=null;
    lastChunk=null;
    totalCharsInList=0;
    totalCharsInDynamicChunks=-1;
    sizeAtLeast=-1;
    dynamicChunkMap.clear();
  }
  allocBuffer.writeTo(target);
  if (emptyAfter) {
    allocBuffer.reuseBuffer();
  }
  if (flushTarget) {
    target.flush();
  }
}
