{
  List<String> searchPaths=null;
  if (Environment.isWarDeployed()) {
    if (uri.startsWith("/plugins")) {
      searchPaths=new ArrayList<String>(){
{
          add(GrailsResourceUtils.appendPiecesForUri(GrailsResourceUtils.WEB_INF,uri));
          add(uri);
        }
      }
;
    }
 else {
      searchPaths=new ArrayList<String>(){
{
          add(GrailsResourceUtils.appendPiecesForUri(PATH_TO_WEB_INF_VIEWS,uri));
          add(uri);
        }
      }
;
    }
  }
 else {
    searchPaths=new ArrayList<String>(){
{
        add(GrailsResourceUtils.appendPiecesForUri('/' + GrailsResourceUtils.VIEWS_DIR_PATH,uri));
        add(uri);
      }
    }
;
  }
  return findResourceScriptPathForSearchPaths(uri,searchPaths);
}
