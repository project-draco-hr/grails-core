{
  if (!beans.containsKey(name))   throw new NoSuchBeanDefinitionException(name);
  if (requiredType != null && beans.get(name).getClass() != requiredType)   throw new NoSuchBeanDefinitionException(name);
  return beans.get(name);
}
