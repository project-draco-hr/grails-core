{
  Collection<File> pluginDirectoryResources=(Collection<File>)cache.get(KEY_PLUGIN_DIRECTORY_RESOURCES);
  if (pluginDirectoryResources == null) {
    pluginDirectoryResources=getImplicitPluginDirectories();
    Collection<File> inlinePlugins=getInlinePluginsFromConfiguration(config);
    cache.put(KEY_INLINE_PLUGIN_LOCATIONS,inlinePlugins);
    ArrayList<File> list=new ArrayList<File>(pluginDirectoryResources);
    list.addAll(inlinePlugins);
    Collections.reverse(list);
    pluginDirectoryResources=new ConcurrentLinkedQueue<File>(list);
    cache.put(KEY_PLUGIN_DIRECTORY_RESOURCES,pluginDirectoryResources);
  }
  return pluginDirectoryResources;
}
