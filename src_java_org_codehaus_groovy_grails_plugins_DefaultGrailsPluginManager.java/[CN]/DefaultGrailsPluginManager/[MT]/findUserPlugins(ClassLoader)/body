{
  List<GrailsPlugin> grailsUserPlugins=new ArrayList<GrailsPlugin>();
  LOG.info("Attempting to load [" + pluginResources.length + "] user defined plugins");
  for (int i=0; i < pluginResources.length; i++) {
    Resource r=pluginResources[i];
    Class pluginClass=loadPluginClass(gcl,r);
    if (isGrailsPlugin(pluginClass)) {
      GrailsPlugin plugin=new DefaultGrailsPlugin(pluginClass,r,application);
      grailsUserPlugins.add(plugin);
    }
 else {
      LOG.warn("Class [" + pluginClass + "] not loaded as plug-in. Grails plug-ins must end with the convention 'GrailsPlugin'!");
    }
  }
  for (int i=0; i < pluginClasses.length; i++) {
    Class pluginClass=pluginClasses[i];
    if (isGrailsPlugin(pluginClass)) {
      GrailsPlugin plugin=new DefaultGrailsPlugin(pluginClass,application);
      grailsUserPlugins.add(plugin);
    }
 else {
      LOG.warn("Class [" + pluginClass + "] not loaded as plug-in. Grails plug-ins must end with the convention 'GrailsPlugin'!");
    }
  }
  return grailsUserPlugins;
}
