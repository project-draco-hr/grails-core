{
  String expected=makeImports() + "\n" + "class myTest7 extends GroovyPage {\n"+ "public String getGroovyPageFileName() { \"myTest7\" }\n"+ "public Object run() {\n"+ "def params = binding.params\n"+ "def request = binding.request\n"+ "def flash = binding.flash\n"+ "def response = binding.response\n"+ "def out = binding.out\n"+ "def codecOut = binding.codecOut\n"+ "registerSitemeshPreprocessMode(request)\n"+ "printHtmlPart(0)\n"+ "codecOut.print(evaluate('uri', 3, it) { return uri })\n"+ "printHtmlPart(1)\n"+ "}\n"+ GSP_FOOTER;
  ParsedResult output=parseCode("myTest7","Please click the link below to confirm your email address:\n" + "\n" + "${uri}\n"+ "\n"+ "\n"+ "Thanks");
  assertEquals(expected,output.generatedGsp);
  assertEquals("Please click the link below to confirm your email address:\n\n",output.htmlParts[0]);
  assertEquals("\n\n\nThanks",output.htmlParts[1]);
}
