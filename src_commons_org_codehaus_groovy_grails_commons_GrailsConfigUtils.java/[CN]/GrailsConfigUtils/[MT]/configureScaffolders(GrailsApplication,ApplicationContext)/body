{
  GrailsControllerClass[] controllerClasses=application.getControllers();
  for (int i=0; i < controllerClasses.length; i++) {
    GrailsControllerClass controllerClass=controllerClasses[i];
    if (controllerClass.isScaffolding()) {
      try {
        GrailsScaffolder gs=(GrailsScaffolder)appContext.getBean(controllerClass.getFullName() + "Scaffolder");
        if (gs != null) {
          ScaffoldDomain sd=gs.getScaffoldRequestHandler().getScaffoldDomain();
          GrailsDomainClass dc=application.getGrailsDomainClass(sd.getPersistentClass().getName());
          if (dc != null) {
            sd.setIdentityPropertyName(dc.getIdentifier().getName());
            sd.setValidator(dc.getValidator());
          }
        }
      }
 catch (      NoSuchBeanDefinitionException e) {
      }
    }
  }
}
