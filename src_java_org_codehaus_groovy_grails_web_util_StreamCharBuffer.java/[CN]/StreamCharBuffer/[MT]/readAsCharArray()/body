{
  char[] buf=new char[calculateTotalCharsUnread()];
  if (buf.length > 0) {
    try {
      reader.readImpl(buf,0,buf.length);
    }
 catch (    IOException e) {
      throw new RuntimeException("Unexpected IOException",e);
    }
  }
  return buf;
}
