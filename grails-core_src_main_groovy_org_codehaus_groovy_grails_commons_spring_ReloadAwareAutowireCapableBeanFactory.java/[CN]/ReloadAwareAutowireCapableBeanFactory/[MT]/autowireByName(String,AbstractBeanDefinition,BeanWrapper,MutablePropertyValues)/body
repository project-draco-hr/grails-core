{
  if (reloadEnabled) {
    super.autowireByName(beanName,mbd,bw,pvs);
    return;
  }
  Class<?> beanClass=ClassUtils.getUserClass(bw.getWrappedInstance().getClass());
  Set<String> beanProps=autowiringByNameCacheForClass.get(beanClass);
  if (beanProps == null) {
    beanProps=new LinkedHashSet<String>();
    String[] propertyNames=unsatisfiedNonSimpleProperties(mbd,bw);
    for (    String propertyName : propertyNames) {
      if (containsBean(propertyName)) {
        beanProps.add(propertyName);
      }
    }
    autowiringByNameCacheForClass.put(beanClass,beanProps);
  }
  for (  String propertyName : beanProps) {
    Object bean=getBean(propertyName);
    pvs.addPropertyValue(propertyName,bean);
    if (!dependenciesRegisteredOnce.contains(beanName)) {
      registerDependentBean(propertyName,beanName);
      dependenciesRegisteredOnce.add(beanName);
    }
    if (logger.isDebugEnabled()) {
      logger.debug("Added autowiring by name from bean name '" + beanName + "' via property '"+ propertyName+ "' to bean named '"+ propertyName+ "'");
    }
  }
}
