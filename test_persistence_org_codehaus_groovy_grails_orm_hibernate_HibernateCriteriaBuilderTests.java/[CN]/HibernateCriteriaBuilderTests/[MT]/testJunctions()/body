{
  GrailsDomainClass domainClass=(GrailsDomainClass)this.grailsApplication.getArtefact(DomainClassArtefactHandler.TYPE,"CriteriaBuilderTestClass");
  assertNotNull(domainClass);
  GroovyObject obj=(GroovyObject)domainClass.newInstance();
  obj.setProperty("firstName","fred");
  obj.setProperty("lastName","flintstone");
  obj.setProperty("age",new Integer(45));
  obj.invokeMethod("save",null);
  GroovyObject obj2=(GroovyObject)domainClass.newInstance();
  obj2.setProperty("firstName","wilma");
  obj2.setProperty("lastName","flintstone");
  obj2.setProperty("age",new Integer(42));
  obj2.invokeMethod("save",null);
  GroovyObject obj3=(GroovyObject)domainClass.newInstance();
  obj3.setProperty("firstName","dino");
  obj3.setProperty("lastName","dinosaur");
  obj3.setProperty("age",new Integer(12));
  obj3.invokeMethod("save",null);
  GroovyObject obj4=(GroovyObject)domainClass.newInstance();
  obj4.setProperty("firstName","barney");
  obj4.setProperty("lastName","rubble");
  obj4.setProperty("age",new Integer(45));
  obj4.invokeMethod("save",null);
  Proxy p=null;
  p=parse("{ " + "or { " + "eq('firstName','fred');"+ "eq('lastName', 'flintstone');"+ "eq('age', 12)"+ "}"+ "}","Test1","CriteriaBuilderTestClass");
  List results=(List)p.getAdaptee();
  assertEquals(3,results.size());
  p=parse("{ " + "or { " + "eq('lastName', 'flintstone');"+ "}"+ "}","Test1","CriteriaBuilderTestClass");
  results=(List)p.getAdaptee();
  assertEquals(2,results.size());
  p=parse("{ " + "and { " + "eq('age', 45);"+ "or { "+ "eq('firstName','fred');"+ "eq('lastName', 'flintstone');"+ "}"+ "}"+ "}","Test1","CriteriaBuilderTestClass");
  results=(List)p.getAdaptee();
  assertEquals(1,results.size());
}
