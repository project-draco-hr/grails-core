{
  try {
    Resource[] resources=resolver.getResources("classpath*:org/codehaus/groovy/grails/**/plugins/*GrailsPlugin.class");
    for (int i=0; i < resources.length; i++) {
      Resource resource=resources[i];
      String url=resource.getURL().toString();
      int packageIndex=url.indexOf("org/codehaus/groovy/grails");
      url=url.substring(packageIndex,url.length());
      url=url.substring(0,url.length() - 6);
      String className=url.replace('/','.');
      loadCorePlugin(className);
    }
  }
 catch (  IOException e) {
    throw new PluginException("I/O exception configuring core plug-ins: " + e.getMessage(),e);
  }
}
