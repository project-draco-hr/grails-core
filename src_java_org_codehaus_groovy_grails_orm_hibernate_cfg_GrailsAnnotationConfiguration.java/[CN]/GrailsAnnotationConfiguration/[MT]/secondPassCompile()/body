{
  if (!configLocked) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("[GrailsAnnotationConfiguration] [" + this.domainClasses.size() + "] Grails domain classes to bind to persistence runtime");
    }
    for (    GrailsDomainClass domainClass : this.domainClasses) {
      GrailsDomainBinder.evaluateMapping(domainClass);
    }
    for (    GrailsDomainClass domainClass : this.domainClasses) {
      GrailsDomainBinder.evaluateNamedQueries(domainClass);
    }
    for (    GrailsDomainClass domainClass : this.domainClasses) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("[GrailsAnnotationConfiguration] Binding persistent class [" + domainClass.getFullName() + "]");
      }
      final Mappings mappings=super.createMappings();
      Mapping m=GrailsDomainBinder.getMapping(domainClass);
      mappings.setAutoImport(m == null || m.getAutoImport());
      GrailsDomainBinder.bindClass(domainClass,mappings);
    }
  }
  super.secondPassCompile();
  this.configLocked=true;
}
