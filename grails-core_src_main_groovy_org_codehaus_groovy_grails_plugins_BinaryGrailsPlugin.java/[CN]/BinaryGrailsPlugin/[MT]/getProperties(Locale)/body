{
  final Resource descriptorResource=descriptor.getResource();
  final Resource i18nDir;
  try {
    i18nDir=descriptorResource.createRelative("grails-app/i18n");
  }
 catch (  IOException e) {
    return null;
  }
  if (i18nDir != null && i18nDir.exists()) {
    Properties properties=new Properties();
    final String defaultName=BASE_MESSAGES_PROPERTIES;
    attemptLoadProperties(descriptorResource,properties,defaultName);
    final List<String> filenames=calculateFilenamesForLocale("grails-app/i18n/messages",locale);
    for (    String filename : filenames) {
      attemptLoadProperties(descriptorResource,properties,filename);
    }
    return properties;
  }
  return null;
}
