{
  ArrayList results=new ArrayList();
  final int len=text.length();
  int pos=0;
  while (pos < len) {
    int EOLpos=text.indexOf('\n',pos);
    if (EOLpos >= 0) {
      results.add(text.substring(pos,EOLpos));
      pos=EOLpos + 1;
    }
 else {
      results.add(text.substring(pos,len));
      pos=len;
    }
  }
  return (String[])results.toArray(new String[results.size()]);
}
