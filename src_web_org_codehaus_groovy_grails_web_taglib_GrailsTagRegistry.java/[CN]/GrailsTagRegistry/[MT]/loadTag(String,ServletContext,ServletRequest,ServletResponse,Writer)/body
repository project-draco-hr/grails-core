{
  if (tagRegistry.containsKey(tagName)) {
    Class tagClass=(Class)tagRegistry.get(tagName);
    GrailsTag tag;
    try {
      tag=(GrailsTag)tagClass.newInstance();
    }
 catch (    InstantiationException e) {
      throw new GrailsTagException("Instantiation error loading tag [" + tagName + "]: "+ e.getMessage(),e);
    }
catch (    IllegalAccessException e) {
      throw new GrailsTagException("Illegal access error loading tag [" + tagName + "]: "+ e.getMessage(),e);
    }
    Map context=new HashMap();
    context.put(GroovyPage.REQUEST,request);
    context.put(GroovyPage.RESPONSE,response);
    context.put(GroovyPage.SERVLET_CONTEXT,servletContext);
    if (out != null)     context.put(GroovyPage.OUT,out);
    tag.init(context);
    return tag;
  }
 else {
    throw new GrailsTagException("Tag [" + tagName + "] is not a a valid grails tag");
  }
}
