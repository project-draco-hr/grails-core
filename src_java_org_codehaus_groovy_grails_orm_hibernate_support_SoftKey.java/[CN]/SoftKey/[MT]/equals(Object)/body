{
  if (this == obj) {
    return true;
  }
  if (obj == null) {
    return false;
  }
  if (getClass() != obj.getClass()) {
    return false;
  }
  @SuppressWarnings("unchecked") SoftKey<T> other=(SoftKey<T>)obj;
  if (hash != other.hash) {
    return false;
  }
  T referent=get();
  T otherReferent=other.get();
  if (referent == null) {
    if (otherReferent != null) {
      return false;
    }
  }
 else   if (!referent.equals(otherReferent)) {
    return false;
  }
  return true;
}
