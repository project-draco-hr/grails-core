{
  bindClass(sub,joinedSubclass,mappings);
  if (joinedSubclass.getEntityPersisterClass() == null) {
    joinedSubclass.getRootClass().setEntityPersisterClass(GroovyAwareJoinedSubclassEntityPersister.class);
  }
  Table mytable=mappings.addTable(mappings.getSchemaName(),mappings.getCatalogName(),getJoinedSubClassTableName(sub,joinedSubclass,null,mappings,sessionFactoryBeanName),null,false);
  joinedSubclass.setTable(mytable);
  LOG.info("Mapping joined-subclass: " + joinedSubclass.getEntityName() + " -> "+ joinedSubclass.getTable().getName());
  SimpleValue key=new DependantValue(mappings,mytable,joinedSubclass.getIdentifier());
  joinedSubclass.setKey(key);
  GrailsDomainClassProperty identifier=sub.getIdentifier();
  String columnName=getColumnNameForPropertyAndPath(identifier,EMPTY_PATH,null,sessionFactoryBeanName);
  bindSimpleValue(identifier.getType().getName(),key,false,columnName,mappings);
  joinedSubclass.createPrimaryKey();
  createClassProperties(sub,joinedSubclass,mappings,sessionFactoryBeanName);
}
