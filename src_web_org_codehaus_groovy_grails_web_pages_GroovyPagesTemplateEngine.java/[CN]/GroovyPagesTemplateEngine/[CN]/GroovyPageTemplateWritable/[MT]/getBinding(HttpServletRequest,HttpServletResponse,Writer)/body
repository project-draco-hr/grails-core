{
  Binding binding=new Binding();
  GroovyObject controller=(GroovyObject)request.getAttribute(GrailsControllerClass.REQUEST_CONTROLLER);
  binding.setVariable("request",controller.getProperty(ControllerDynamicMethods.REQUEST_PROPERTY));
  binding.setVariable("response",controller.getProperty(ControllerDynamicMethods.RESPONSE_PROPERTY));
  binding.setVariable("application",context);
  binding.setVariable("session",controller.getProperty(GetSessionDynamicProperty.PROPERTY_NAME));
  binding.setVariable("params",controller.getProperty(GetParamsDynamicProperty.PROPERTY_NAME));
  binding.setVariable("out",out);
  binding.setVariable("grailsTagRegistry",GrailsTagRegistry.getInstance());
  for (Enumeration attributeEnum=request.getAttributeNames(); attributeEnum.hasMoreElements(); ) {
    String key=(String)attributeEnum.nextElement();
    try {
      binding.getVariable(key);
    }
 catch (    MissingPropertyException mpe) {
      binding.setVariable(key,request.getAttribute(key));
    }
  }
  for (Iterator i=additionalBinding.keySet().iterator(); i.hasNext(); ) {
    String key=(String)i.next();
    binding.setVariable(key,additionalBinding.get(key));
  }
  return binding;
}
