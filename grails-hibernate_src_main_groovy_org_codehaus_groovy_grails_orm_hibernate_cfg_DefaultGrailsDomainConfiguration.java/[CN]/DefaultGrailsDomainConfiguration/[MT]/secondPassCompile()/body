{
  if (configLocked) {
    return;
  }
  if (grailsApplication != null) {
    Thread.currentThread().setContextClassLoader(grailsApplication.getClassLoader());
  }
  configureDomainBinder(grailsApplication,domainClasses);
  for (  GrailsDomainClass domainClass : domainClasses) {
    if (!domainClass.usesDataSource(dataSourceName)) {
      continue;
    }
    final Mappings mappings=super.createMappings();
    Mapping m=GrailsDomainBinder.getMapping(domainClass);
    mappings.setAutoImport(m == null || m.getAutoImport());
    GrailsDomainBinder.bindClass(domainClass,mappings,sessionFactoryBeanName);
  }
  super.secondPassCompile();
  configLocked=true;
}
