{
  String expr=(String)attributes.get(ATTRIBUTE_VALUE);
  String var=(String)attributes.get(ATTRIBUTE_VAR);
  if (StringUtils.isBlank(var))   throw new GrailsTagException("Tag [" + TAG_NAME + "] missing required attribute ["+ ATTRIBUTE_VAR+ "]");
  if (StringUtils.isBlank(expr))   throw new GrailsTagException("Tag [" + TAG_NAME + "] missing required attribute ["+ ATTRIBUTE_VALUE+ "]");
  GrailsUtil.deprecated("The tag <g:def> is deprecated and will be removed in a future release. Use <g:set> instead.");
  out.print("def ");
  out.print(var.substring(1,var.length() - 1));
  out.print('=');
  out.println(expr);
}
