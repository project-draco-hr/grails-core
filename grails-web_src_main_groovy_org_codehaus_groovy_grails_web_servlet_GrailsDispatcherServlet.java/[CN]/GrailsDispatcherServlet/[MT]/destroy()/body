{
  WebApplicationContext webContext=getWebApplicationContext();
  if (!((ConfigurableApplicationContext)webContext).isRunning())   return;
  GrailsApplication grailsApplication=webContext.getBean(GrailsApplication.APPLICATION_ID,GrailsApplication.class);
  GrailsClass[] bootstraps=grailsApplication.getArtefacts(BootstrapArtefactHandler.TYPE);
  for (  GrailsClass bootstrap : bootstraps) {
    ((GrailsBootstrapClass)bootstrap).callDestroy();
  }
  try {
    super.destroy();
  }
  finally {
    ShutdownOperations.runOperations();
  }
}
