{
  int currentSize=size();
  if (currentSize > 0) {
    FixedCharArrayWriter target=new FixedCharArrayWriter(currentSize);
    try {
      writeTo(target);
    }
 catch (    IOException e) {
      throw new RuntimeException("Unexpected IOException",e);
    }
    return target.getCharArray();
  }
 else {
    return new char[0];
  }
}
