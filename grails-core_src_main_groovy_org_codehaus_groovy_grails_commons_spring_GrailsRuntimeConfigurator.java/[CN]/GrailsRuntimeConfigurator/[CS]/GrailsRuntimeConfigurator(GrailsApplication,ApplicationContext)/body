{
  this.application=application;
  this.parent=parent;
  if (parent != null) {
    parent.containsBean(DATA_SOURCE_BEAN);
  }
  try {
    pluginManager=parent.getBean(GrailsPluginManager.class);
  }
 catch (  BeansException e) {
    pluginManager=new DefaultGrailsPluginManager("**/plugins/*/**GrailsPlugin.groovy",application);
    PluginManagerHolder.setPluginManager(pluginManager);
  }
}
