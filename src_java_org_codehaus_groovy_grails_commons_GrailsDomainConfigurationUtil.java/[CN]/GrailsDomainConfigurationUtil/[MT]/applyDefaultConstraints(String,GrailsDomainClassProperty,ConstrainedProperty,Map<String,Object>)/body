{
  if (defaultConstraints != null && !defaultConstraints.isEmpty()) {
    for (    Map.Entry<String,Object> entry : defaultConstraints.entrySet()) {
      String constraintName=entry.getKey();
      Object constrainingValue=entry.getValue();
      if (!cp.hasAppliedConstraint(constraintName) && cp.supportsContraint(constraintName)) {
        if (ConstrainedProperty.NULLABLE_CONSTRAINT.equals(constraintName)) {
          if (isConstrainableProperty(p,propertyName))           cp.applyConstraint(constraintName,constrainingValue);
        }
 else {
          cp.applyConstraint(constraintName,constrainingValue);
        }
      }
    }
  }
  if (!cp.hasAppliedConstraint(ConstrainedProperty.NULLABLE_CONSTRAINT) && isConstrainableProperty(p,propertyName)) {
    cp.applyConstraint(ConstrainedProperty.NULLABLE_CONSTRAINT,p.isOptional() || Collection.class.isAssignableFrom(p.getType()) || Map.class.isAssignableFrom(p.getType()));
  }
}
