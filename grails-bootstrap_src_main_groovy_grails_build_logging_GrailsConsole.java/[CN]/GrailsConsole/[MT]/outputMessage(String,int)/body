{
  if (msg == null || msg.trim().length() == 0)   return;
  try {
    if (isAnsiEnabled()) {
      Ansi ansi=userInputActive ? moveDownToSkipPrompt() : erasePreviousLine(CATEGORY_SEPARATOR);
      lastStatus=outputCategory(ansi,CATEGORY_SEPARATOR).fg(Color.DEFAULT).a(msg).reset();
      out.println(lastStatus);
      if (userInputActive) {
        out.print(ansi().cursorRight(PROMPT.length()).reset());
      }
      if (!userInputActive)       cursorMove=replaceCount;
    }
 else {
      if (lastMessage != null && lastMessage.equals(msg))       return;
      if (progressIndicatorActive) {
        out.println();
      }
      out.print(CATEGORY_SEPARATOR);
      out.println(msg);
    }
    lastMessage=msg;
  }
  finally {
    postPrintMessage();
  }
}
