{
  String servletPath=request.getServletPath();
  String pathInfo=request.getPathInfo();
  String query=request.getQueryString();
  return (servletPath == null ? "" : servletPath) + (pathInfo == null ? "" : pathInfo) + (query == null ? "" : ("?" + query));
}
