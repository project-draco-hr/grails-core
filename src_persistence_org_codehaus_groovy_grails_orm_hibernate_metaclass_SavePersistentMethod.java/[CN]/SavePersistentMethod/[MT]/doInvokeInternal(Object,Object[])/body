{
  Errors errors=new BindException(target,target.getClass().getName());
  GrailsDomainClass domainClass=application.getGrailsDomainClass(target.getClass().getName());
  Validator validator=null;
  boolean doValidation=true;
  Boolean success=Boolean.TRUE;
  if (domainClass != null) {
    validator=domainClass.getValidator();
    doValidation=true;
    if (arguments.length > 0) {
      if (arguments[0] instanceof Boolean) {
        doValidation=((Boolean)arguments[0]).booleanValue();
      }
    }
  }
  if (doValidation) {
    if (validator != null) {
      validator.validate(target,errors);
      if (errors.hasErrors()) {
        DelegatingMetaClass metaClass=(DelegatingMetaClass)InvokerHelper.getInstance().getMetaRegistry().getMetaClass(target.getClass());
        metaClass.setProperty(target,DomainClassMethods.ERRORS_PROPERTY,errors);
        return Boolean.valueOf(!errors.hasErrors());
      }
    }
  }
  HibernateTemplate ht=getHibernateTemplate();
  if (ht.contains(target)) {
    ht.flush();
    ht.update(target);
  }
 else {
    ht.saveOrUpdate(target);
  }
  return success;
}
