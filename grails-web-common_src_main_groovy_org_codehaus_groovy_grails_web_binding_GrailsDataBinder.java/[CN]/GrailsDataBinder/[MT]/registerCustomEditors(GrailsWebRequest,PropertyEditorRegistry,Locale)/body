{
  NumberFormat floatFormat=NumberFormat.getInstance(locale);
  NumberFormat integerFormat=NumberFormat.getIntegerInstance(locale);
  DateFormat dateFormat=new SimpleDateFormat(DEFAULT_DATE_FORMAT,locale);
  registry.registerCustomEditor(Date.class,new CustomDateEditor(dateFormat,true));
  registry.registerCustomEditor(BigDecimal.class,new CustomNumberEditor(BigDecimal.class,floatFormat,true));
  registry.registerCustomEditor(BigInteger.class,new CustomNumberEditor(BigInteger.class,floatFormat,true));
  registry.registerCustomEditor(Double.class,new CustomNumberEditor(Double.class,floatFormat,true));
  registry.registerCustomEditor(double.class,new CustomNumberEditor(Double.class,floatFormat,true));
  registry.registerCustomEditor(Float.class,new CustomNumberEditor(Float.class,floatFormat,true));
  registry.registerCustomEditor(float.class,new CustomNumberEditor(Float.class,floatFormat,true));
  registry.registerCustomEditor(Long.class,new CustomNumberEditor(Long.class,integerFormat,true));
  registry.registerCustomEditor(long.class,new CustomNumberEditor(Long.class,integerFormat,true));
  registry.registerCustomEditor(Integer.class,new CustomNumberEditor(Integer.class,integerFormat,true));
  registry.registerCustomEditor(int.class,new CustomNumberEditor(Integer.class,integerFormat,true));
  registry.registerCustomEditor(Short.class,new CustomNumberEditor(Short.class,integerFormat,true));
  registry.registerCustomEditor(short.class,new CustomNumberEditor(Short.class,integerFormat,true));
  registry.registerCustomEditor(Date.class,new CompositeEditor(new StructuredDateEditor(dateFormat,true),new CustomDateEditor(new SimpleDateFormat(JSON_DATE_FORMAT),true)));
  registry.registerCustomEditor(Calendar.class,new StructuredDateEditor(dateFormat,true));
  ServletContext servletContext=grailsWebRequest != null ? grailsWebRequest.getServletContext() : null;
  registerCustomEditors(servletContext,registry);
}
