{
  String name=entry.getKey().toString();
  if (name.indexOf(".") > -1)   return false;
  Object value=entry.getValue();
  if (value == null)   value="";
 else   if (value instanceof GrailsParameterMap) {
    GrailsParameterMap child=(GrailsParameterMap)value;
    Set nestedEntrySet=child.entrySet();
    for (Iterator i=nestedEntrySet.iterator(); i.hasNext(); ) {
      Entry childEntry=(Entry)i.next();
      appendEntry(childEntry,queryString,encoding,entry.getKey().toString() + '.');
    }
  }
 else {
    try {
      queryString.append(URLEncoder.encode(path + name,encoding)).append('=').append(URLEncoder.encode(value.toString(),encoding));
    }
 catch (    UnsupportedEncodingException e) {
      throw new ControllerExecutionException("Unable to convert parameter map [" + this + "] to a query string: "+ e.getMessage(),e);
    }
  }
  return true;
}
