{
  if (plugin.isEnabled()) {
    if (LOG.isInfoEnabled()) {
      LOG.info("Grails plug-in [" + plugin.getName() + "] with version ["+ plugin.getVersion()+ "] loaded successfully");
    }
    if (plugin instanceof ParentApplicationContextAware) {
      ((ParentApplicationContextAware)plugin).setParentApplicationContext(parentCtx);
    }
    plugin.setManager(this);
    String[] evictionNames=plugin.getEvictionNames();
    if (evictionNames.length > 0)     delayedEvictions.put(plugin,evictionNames);
    String[] observedPlugins=plugin.getObservedPluginNames();
    for (int i=0; i < observedPlugins.length; i++) {
      String observedPlugin=observedPlugins[i];
      Set observers=(Set)pluginToObserverMap.get(observedPlugin);
      if (observers == null) {
        observers=new HashSet();
        pluginToObserverMap.put(observedPlugin,observers);
      }
      observers.add(plugin);
    }
    pluginList.add(plugin);
    plugins.put(plugin.getName(),plugin);
  }
 else {
    if (LOG.isInfoEnabled()) {
      LOG.info("Grails plugin " + plugin + " is disabled and was not loaded");
    }
  }
}
