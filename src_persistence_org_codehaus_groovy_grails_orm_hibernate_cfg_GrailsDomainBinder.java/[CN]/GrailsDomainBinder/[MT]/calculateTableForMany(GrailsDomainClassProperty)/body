{
  if (Map.class.isAssignableFrom(property.getType())) {
    String tablePrefix=namingStrategy.classToTableName(property.getDomainClass().getFullName());
    return tablePrefix + "_" + namingStrategy.propertyToColumnName(property.getName());
  }
 else {
    String left=getTableName(property.getDomainClass());
    String right=getTableName(property.getReferencedDomainClass());
    if (property.isOwningSide()) {
      return left + '_' + right;
    }
 else {
      return right + '_' + left;
    }
  }
}
