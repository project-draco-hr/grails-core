{
  if (mdBuilder.getMainArtifact() == null) {
    return;
  }
  ModuleDescriptor md=mdBuilder.getModuleDescriptor();
  ModuleRevisionId mrid=md.getModuleRevisionId();
  DependencyResolver resolver=ivySettings.getResolver(mrid);
  if (resolver == null) {
    Message.debug("no resolver found for " + mrid + ": no source or javadoc artifact lookup");
  }
 else {
    ArtifactOrigin mainArtifact=resolver.locate(mdBuilder.getMainArtifact());
    if (!ArtifactOrigin.isUnknown(mainArtifact)) {
      String mainArtifactLocation=mainArtifact.getLocation();
      ArtifactOrigin sourceArtifact=resolver.locate(mdBuilder.getSourceArtifact());
      if (!ArtifactOrigin.isUnknown(sourceArtifact) && !sourceArtifact.getLocation().equals(mainArtifactLocation)) {
        Message.debug("source artifact found for " + mrid);
        mdBuilder.addSourceArtifact();
      }
 else {
        ArtifactOrigin srcArtifact=resolver.locate(mdBuilder.getSrcArtifact());
        if (!ArtifactOrigin.isUnknown(srcArtifact) && !srcArtifact.getLocation().equals(mainArtifactLocation)) {
          Message.debug("source artifact found for " + mrid);
          mdBuilder.addSrcArtifact();
        }
 else {
          Message.debug("no source artifact found for " + mrid);
        }
      }
      ArtifactOrigin javadocArtifact=resolver.locate(mdBuilder.getJavadocArtifact());
      if (!ArtifactOrigin.isUnknown(javadocArtifact) && !javadocArtifact.getLocation().equals(mainArtifactLocation)) {
        Message.debug("javadoc artifact found for " + mrid);
        mdBuilder.addJavadocArtifact();
      }
 else {
        Message.debug("no javadoc artifact found for " + mrid);
      }
    }
  }
}
