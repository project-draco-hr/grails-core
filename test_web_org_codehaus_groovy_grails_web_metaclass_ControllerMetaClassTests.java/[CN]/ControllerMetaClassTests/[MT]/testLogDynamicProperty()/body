{
  GroovyClassLoader gcl=new GroovyClassLoader();
  MockHttpServletRequest request=new MockHttpServletRequest();
  GrailsHttpServletResponse response=new GrailsHttpServletResponse(new MockHttpServletResponse());
  Class groovyClass=gcl.parseClass("class TestController {\n" + "def list = {\n" + "log.trace('testing logging')"+ "}\n"+ "}");
  GrailsControllerHelper helper1=makeControllerHelper(groovyClass,gcl);
  try {
    helper1.handleURI("/test/list",request,response);
    GroovyObject go=(GroovyObject)request.getAttribute(GrailsApplicationAttributes.CONTROLLER);
    Object log=go.getProperty("log");
    assertNotNull(log);
    assertTrue(log instanceof org.apache.commons.logging.Log);
  }
 catch (  MissingMethodException mme) {
    fail("Missing method exception should not have been thrown!");
  }
catch (  MissingPropertyException mpex) {
    fail("Missing property exception should not have been thrown!");
  }
}
