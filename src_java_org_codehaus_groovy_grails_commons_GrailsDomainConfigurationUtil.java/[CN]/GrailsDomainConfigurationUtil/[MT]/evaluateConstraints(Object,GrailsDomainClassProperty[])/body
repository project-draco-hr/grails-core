{
  Closure constraintsClosure=(Closure)GrailsClassUtils.getPropertyOrStaticPropertyOrFieldValue(instance,GrailsDomainClassProperty.CONSTRAINTS);
  Class objClass=instance.getClass();
  String fullName=objClass.getName();
  if (constraintsClosure != null && !GrailsClassUtils.isStaticProperty(objClass,GrailsDomainClassProperty.CONSTRAINTS)) {
    throw new GrailsConfigurationException("Domain class [" + fullName + "] has non-static constraints. Constraints must be "+ "declared static.");
  }
  GroovyObject go=(GroovyObject)instance;
  DynamicMethods interceptor=new GroovyDynamicMethodsInterceptor(go);
  interceptor.addDynamicProperty(new ConstraintsEvaluatingDynamicProperty(properties));
  return (Map)go.getProperty(GrailsDomainClassProperty.CONSTRAINTS);
}
