{
  if (scriptSource instanceof ResourceScriptSource) {
    ResourceScriptSource resourceSource=(ResourceScriptSource)scriptSource;
    Resource resource=resourceSource.getResource();
    return createTemplate(resource,true);
  }
  if (scriptSource instanceof GroovyPageCompiledScriptSource) {
    GroovyPageCompiledScriptSource compiledSource=(GroovyPageCompiledScriptSource)scriptSource;
    return createTemplateFromPrecompiled(compiledSource.getURI(),compiledSource.getCompiledClass());
  }
  try {
    return createTemplate(scriptSource.getScriptAsString(),scriptSource.suggestedClassName());
  }
 catch (  IOException e) {
    throw new RuntimeException("IOException in createTemplate",e);
  }
}
