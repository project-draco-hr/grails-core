{
  Object val=getVariables().get(name);
  if (val == null && !getVariables().containsKey(name)) {
    if (GroovyPage.PAGE_SCOPE.equals(name))     return this;
    if (parent != null) {
      val=parent.getVariable(name);
      if (val != null) {
        setVariable(name,val);
      }
    }
    if (val == null) {
      MetaProperty metaProperty=getMetaClass().getMetaProperty(name);
      if (metaProperty != null) {
        val=metaProperty.getProperty(this);
      }
    }
  }
  return val;
}
