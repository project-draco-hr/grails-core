{
  Map attributes=new HashMap();
  attributes.put("subflow","someFlow");
  attributes.put("mapper",new FlowAttributeMapper(){
    public Map createSubflowInput(    RequestContext arg0){
      return null;
    }
    public void mapSubflowOutput(    RequestContext arg0){
    }
  }
.getClass());
  attributes.put("properties",new HashMap());
  State state=new State("mySubflowState",attributes);
  state.validate();
  assertEquals(false,state.isViewState());
  assertEquals(false,state.isActionState());
  assertEquals(false,state.isDecisionState());
  assertEquals(false,state.isEndState());
  assertEquals(true,state.isSubflowState());
}
