{
  ExpandoMetaClass.enableGlobally();
  if (LOG.isDebugEnabled()) {
    LOG.debug("[GrailsContextLoader] Loading context. Creating parent application context");
  }
  WebApplicationContext ctx=null;
  try {
    ctx=super.createWebApplicationContext(servletContext,parent);
    application=(GrailsApplication)ctx.getBean(GrailsApplication.APPLICATION_ID,GrailsApplication.class);
    ctx=GrailsConfigUtils.configureWebApplicationContext(servletContext,ctx);
    GrailsConfigUtils.executeGrailsBootstraps(application,ctx,servletContext);
  }
 catch (  BeansException e) {
    GrailsUtil.deepSanitize(e);
    throw e;
  }
  return ctx;
}
