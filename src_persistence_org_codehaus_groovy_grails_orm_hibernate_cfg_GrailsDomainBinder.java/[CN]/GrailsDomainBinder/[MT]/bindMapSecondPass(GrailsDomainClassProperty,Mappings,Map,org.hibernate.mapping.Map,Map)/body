{
  bindCollectionSecondPass(property,mappings,persistentClasses,map,inheritedMetas);
  String columnName=getColumnNameForPropertyAndPath(property,"");
  SimpleValue value=new SimpleValue(map.getCollectionTable());
  bindSimpleValue(STRING_TYPE,value,true,columnName + UNDERSCORE + IndexedCollection.DEFAULT_INDEX_COLUMN_NAME,mappings);
  if (!value.isTypeSpecified()) {
    throw new MappingException("map index element must specify a type: " + map.getRole());
  }
  map.setIndex(value);
  if (!property.isOneToMany()) {
    SimpleValue elt=new SimpleValue(map.getCollectionTable());
    map.setElement(elt);
    bindSimpleValue(STRING_TYPE,elt,false,columnName + UNDERSCORE + IndexedCollection.DEFAULT_ELEMENT_COLUMN_NAME,mappings);
    elt.setTypeName(STRING_TYPE);
    map.setInverse(false);
  }
 else {
    map.setInverse(false);
  }
}
