{
  for (int i=0; i < this.domainClasses.length; i++) {
    GrailsDomainClassProperty[] props=this.domainClasses[i].getPersistantProperties();
    for (int j=0; j < props.length; j++) {
      if (props[j].isAssociation()) {
        DefaultGrailsDomainClassProperty prop=(DefaultGrailsDomainClassProperty)props[j];
        GrailsDomainClass referencedGrailsDomainClass=(GrailsDomainClass)this.domainMap.get(props[j].getReferencedPropertyType().getName());
        prop.setReferencedDomainClass(referencedGrailsDomainClass);
      }
    }
  }
  for (int i=0; i < this.domainClasses.length; i++) {
    GrailsDomainClassProperty[] props=this.domainClasses[i].getPersistantProperties();
    for (int j=0; j < props.length; j++) {
      if (props[j].isAssociation()) {
        DefaultGrailsDomainClassProperty prop=(DefaultGrailsDomainClassProperty)props[j];
        GrailsDomainClassProperty[] referencedProperties=prop.getReferencedDomainClass().getPersistantProperties();
        for (int k=0; k < referencedProperties.length; k++) {
          if (referencedProperties[k].getReferencedPropertyType().equals(this.domainClasses[i].getClazz())) {
            prop.setOtherSide(referencedProperties[k]);
            break;
          }
        }
      }
    }
  }
}
