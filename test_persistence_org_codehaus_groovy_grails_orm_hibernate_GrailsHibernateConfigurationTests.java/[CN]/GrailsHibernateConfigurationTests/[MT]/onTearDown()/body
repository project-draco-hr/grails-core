{
  if (TransactionSynchronizationManager.hasResource(this.sessionFactory)) {
    SessionHolder holder=(SessionHolder)TransactionSynchronizationManager.getResource(this.sessionFactory);
    Session s=holder.getSession();
    s.flush();
    TransactionSynchronizationManager.unbindResource(this.sessionFactory);
    SessionFactoryUtils.releaseSession(s,this.sessionFactory);
  }
  cl=null;
  grailsApplication=null;
  sessionFactory=null;
}
