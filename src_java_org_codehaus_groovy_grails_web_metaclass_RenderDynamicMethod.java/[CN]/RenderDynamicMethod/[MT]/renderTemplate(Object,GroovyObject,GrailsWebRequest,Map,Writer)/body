{
  boolean renderView;
  String templateName=argMap.get(ARGUMENT_TEMPLATE).toString();
  String contextPath=getContextPath(webRequest,argMap);
  String var=(String)argMap.get(ARGUMENT_VAR);
  String templateUri=webRequest.getAttributes().getTemplateURI(controller,templateName);
  GroovyPagesTemplateEngine engine=webRequest.getAttributes().getPagesTemplateEngine();
  try {
    Template t=engine.createTemplateForUri(new String[]{contextPath + templateUri,contextPath + "/grails-app/views/" + templateUri});
    if (t == null) {
      throw new ControllerExecutionException("Unable to load template for uri [" + templateUri + "]. Template not found.");
    }
    Map binding=new HashMap();
    if (argMap.containsKey(ARGUMENT_BEAN)) {
      Object bean=argMap.get(ARGUMENT_BEAN);
      if (argMap.containsKey(ARGUMENT_MODEL)) {
        Object modelObject=argMap.get(ARGUMENT_MODEL);
        if (modelObject instanceof Map)         binding.putAll((Map)modelObject);
      }
      renderTemplateForBean(t,binding,bean,var,out);
    }
 else     if (argMap.containsKey(ARGUMENT_COLLECTION)) {
      Object colObject=argMap.get(ARGUMENT_COLLECTION);
      if (argMap.containsKey(ARGUMENT_MODEL)) {
        Object modelObject=argMap.get(ARGUMENT_MODEL);
        if (modelObject instanceof Map)         binding.putAll((Map)modelObject);
      }
      renderTemplateForCollection(t,binding,colObject,var,out);
    }
 else     if (argMap.containsKey(ARGUMENT_MODEL)) {
      Object modelObject=argMap.get(ARGUMENT_MODEL);
      renderTemplateForModel(t,modelObject,target,out);
    }
 else {
      Writable w=t.make(new BeanMap(target));
      w.writeTo(out);
    }
    renderView=false;
  }
 catch (  GroovyRuntimeException gre) {
    throw new ControllerExecutionException("Error rendering template [" + templateName + "]: "+ gre.getMessage(),gre);
  }
catch (  IOException ioex) {
    throw new ControllerExecutionException("I/O error executing render method for arguments [" + argMap + "]: "+ ioex.getMessage(),ioex);
  }
  return renderView;
}
