{
  if (parameterValues == null)   parameterValues=new HashMap();
  boolean hasController=!StringUtils.isBlank(controller);
  boolean hasAction=!StringUtils.isBlank(action);
  try {
    if (hasController)     parameterValues.put(CONTROLLER,controller);
    if (hasAction)     parameterValues.put(ACTION,action);
    return createURLInternal(parameterValues,encoding,includeContextPath);
  }
  finally {
    if (hasController)     parameterValues.remove(CONTROLLER);
    if (hasAction)     parameterValues.remove(ACTION);
  }
}
