{
  List<Class> artefacts=new ArrayList<Class>();
  if (descriptor != null) {
    GPathResult resources=(GPathResult)descriptor.getProperty("resources");
    if (!resources.isEmpty()) {
      GPathResult allResources=(GPathResult)resources.getProperty("resource");
      if (!allResources.isEmpty()) {
        final ClassLoader classLoader=application.getClassLoader();
        for (Iterator i=allResources.nodeIterator(); i.hasNext(); ) {
          final String className=((Node)i.next()).text();
          try {
            artefacts.add(classLoader.loadClass(className));
          }
 catch (          Throwable e) {
            throw new PluginException("Failed to initialize class [" + className + "] from plugin ["+ getName()+ "] : "+ e.getMessage(),e);
          }
        }
      }
    }
  }
  artefacts.addAll(Arrays.asList(super.getProvidedArtefacts()));
  providedArtefacts=artefacts.toArray(new Class[artefacts.size()]);
}
