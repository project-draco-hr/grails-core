{
  Binding binding=getBinding();
  Writer out=(Writer)binding.getVariable(GroovyPage.OUT);
  if (this.application == null)   initPageState();
  GroovyObject tagLib=getTagLib(tagName);
  if (tagLib != null) {
    tagLib.setProperty(TagLibDynamicMethods.OUT_PROPERTY,out);
    Object tagLibProp;
    Map properties=DefaultGroovyMethods.getProperties(tagLib);
    if (properties.containsKey(tagName)) {
      tagLibProp=properties.get(tagName);
    }
 else {
      throw new GrailsTagException("Tag [" + tagName + "] does not exist in tag library ["+ tagLib.getClass().getName()+ "]");
    }
    if (tagLibProp instanceof Closure) {
      Closure tag=(Closure)tagLibProp;
      if (tag.getParameterTypes().length == 1) {
        tag.call(new Object[]{attrs});
        if (body != null) {
          body.call();
        }
      }
      if (tag.getParameterTypes().length == 2) {
        tag.call(new Object[]{attrs,body});
      }
    }
 else {
      throw new GrailsTagException("Tag [" + tagName + "] does not exist in tag library ["+ tagLib.getClass().getName()+ "]");
    }
  }
 else {
    throw new GrailsTagException("Tag [" + tagName + "] does not exist. No tag library found.");
  }
}
