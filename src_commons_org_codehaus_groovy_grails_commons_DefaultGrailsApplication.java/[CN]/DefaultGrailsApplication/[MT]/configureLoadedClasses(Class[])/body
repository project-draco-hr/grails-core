{
  initArtefactHandlers();
  artefactInfo.clear();
  allArtefactClasses.clear();
  allArtefactClassesArray=null;
  this.allClasses=classes;
  suspectArtefactInit=true;
  try {
    log.debug("Going to inspect artefact classes.");
    for (int i=0; i < classes.length; i++) {
      log.debug("Inspecting [" + classes[i].getName() + "]");
      if (Modifier.isAbstract(classes[i].getModifiers())) {
        log.debug("[" + classes[i].getName() + "] is abstract.");
        continue;
      }
      for (int j=0; j < artefactHandlers.length; j++) {
        if (artefactHandlers[j].isArtefact(classes[i])) {
          GrailsClass gclass=addArtefact(artefactHandlers[j].getType(),classes[i]);
          allArtefactClasses.add(classes[i]);
          DefaultArtefactInfo info=getArtefactInfo(artefactHandlers[j].getType(),true);
          info.addGrailsClass(gclass);
        }
      }
    }
    refreshArtefactGrailsClassCaches();
  }
  finally {
    suspectArtefactInit=false;
  }
  allArtefactClassesArray=(Class[])allArtefactClasses.toArray(new Class[allArtefactClasses.size()]);
  for (int j=0; j < artefactHandlers.length; j++) {
    initializeArtefacts(artefactHandlers[j]);
  }
}
