{
  Closure beans=new Closure(this){
    public Object call(    Object[] args){
      invokeBeanDefiningClosure((Closure)args[0]);
      return null;
    }
  }
;
  Binding b=new Binding();
  b.setVariable("beans",beans);
  GroovyShell shell=classLoader != null ? new GroovyShell(classLoader,b) : new GroovyShell(b);
  for (int i=0; i < resources.length; i++) {
    Resource resource=resources[i];
    shell.evaluate(resource.getInputStream());
  }
}
