{
  Object val=getVariablesMap().get(name);
  if (val == null && !getVariablesMap().containsKey(name)) {
    if (GroovyPage.PAGE_SCOPE.equals(name))     return this;
    if ("variables".equals(name))     return getVariables();
    if ("metaClass".equals(name))     return getMetaClass();
    if (parent != null) {
      val=parent.getVariable(name);
      if (val != null) {
        if (findPageRequestBinding() == null || !findPageRequestBinding().isRequestAttributeVariable(name)) {
          getVariablesMap().put(name,val);
          cachedParentVariableNames.add(name);
        }
      }
    }
  }
  return val;
}
