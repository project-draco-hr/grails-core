{
  List<File> jars=new ArrayList<File>();
  List<File> pluginDirs=listKnownPluginDirs();
  for (  File pluginDir : pluginDirs) {
    if (pluginDir.exists()) {
      File libDir=new File(pluginDir,"lib");
      if (libDir.exists()) {
        File[] files=libDir.listFiles(new FilenameFilter(){
          @Override public boolean accept(          File file,          String s){
            return s.endsWith(".jar");
          }
        }
);
        if (files != null && files.length > 0) {
          jars.addAll(Arrays.asList(files));
        }
      }
    }
  }
  return jars;
}
