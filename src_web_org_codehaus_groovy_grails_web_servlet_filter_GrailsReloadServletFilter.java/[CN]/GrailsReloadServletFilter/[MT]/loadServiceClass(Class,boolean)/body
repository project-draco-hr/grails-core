{
  GrailsServiceClass serviceClass=application.addServiceClass(loadedClass);
  if (serviceClass.isTransactional()) {
    LOG.warn("Cannot reload class [" + loadedClass + "] reloading of transactional service classes is not currently possible. Set class to non-transactional first.");
  }
 else {
    reloadApplicationContext();
    if (serviceClass != null) {
      if (isNew) {
        reloadApplicationContext();
      }
 else {
        HotSwappableTargetSource targetSource=(HotSwappableTargetSource)context.getBean(serviceClass.getFullName() + "TargetSource");
        targetSource.swap(serviceClass.newInstance());
      }
    }
  }
}
