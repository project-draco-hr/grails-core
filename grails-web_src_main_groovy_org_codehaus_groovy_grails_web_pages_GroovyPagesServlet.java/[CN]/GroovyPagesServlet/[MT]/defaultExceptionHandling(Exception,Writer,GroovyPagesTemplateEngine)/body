{
  if (LOG.isErrorEnabled()) {
    LOG.error("Error processing GSP: " + exception.getMessage(),exception);
  }
  try {
    Template t=engine.createTemplate(ERRORS_VIEW);
    Map<String,GrailsWrappedRuntimeException> model=Collections.singletonMap(EXCEPTION_MODEL_KEY,new GrailsWrappedRuntimeException(context,exception));
    t.make(model).writeTo(out);
  }
 catch (  Throwable t) {
    LOG.error("Error attempting to render errors view : " + t.getMessage(),t);
    LOG.error("Original exception : " + exception.getMessage(),exception);
  }
}
