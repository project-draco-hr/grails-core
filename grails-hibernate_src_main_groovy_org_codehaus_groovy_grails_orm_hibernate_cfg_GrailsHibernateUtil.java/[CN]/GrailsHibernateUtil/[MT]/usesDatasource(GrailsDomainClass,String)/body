{
  if (domainClass instanceof GrailsHibernateDomainClass) {
    GrailsHibernateDomainClass hibernateDomainClass=(GrailsHibernateDomainClass)domainClass;
    String sessionFactoryName=hibernateDomainClass.getSessionFactoryName();
    if (dataSourceName.equals(GrailsDomainClassProperty.DEFAULT_DATA_SOURCE)) {
      return "sessionFactory".equals(sessionFactoryName);
    }
    return sessionFactoryName.endsWith("_" + dataSourceName);
  }
  List<String> names=getDatasourceNames(domainClass);
  return names.contains(dataSourceName) || names.contains(GrailsDomainClassProperty.ALL_DATA_SOURCES);
}
