{
  try {
    this.classLoader=classLoader;
    Class<?> clazz=classLoader.loadClass("grails.util.BuildSettings");
    File grailsHomeFile=grailsHome == null ? null : new File(grailsHome);
    File baseDirFile=baseDir == null ? null : new File(baseDir);
    settings=clazz.getConstructor(File.class,File.class).newInstance(grailsHomeFile,baseDirFile);
    invokeMethod(settings,"setRootLoader",new Class[]{URLClassLoader.class},new Object[]{classLoader});
  }
 catch (  Exception ex) {
    throw new RuntimeException(ex);
  }
}
