{
  GroovyClassLoader gcl=new GroovyClassLoader();
  gcl.parseClass("class Super { Long id;Long version;}\n" + "class Sub extends Super { }\n" + "class Sub2 extends Sub { }");
  GrailsApplication ga=new DefaultGrailsApplication(gcl.getLoadedClasses(),gcl);
  GrailsDomainClass gdc1=ga.getGrailsDomainClass("Super");
  assertNotNull(gdc1);
  assertTrue(gdc1.isRoot());
  assertEquals(2,gdc1.getSubClasses().size());
  assertFalse(gdc1.getPropertyByName("id").isInherited());
  GrailsDomainClass gdc2=ga.getGrailsDomainClass("Sub");
  assertFalse(gdc2.isRoot());
  assertEquals(1,gdc2.getSubClasses().size());
  assertTrue(gdc2.getPropertyByName("id").isInherited());
  GrailsDomainClass gdc3=ga.getGrailsDomainClass("Sub2");
  assertFalse(gdc3.isRoot());
  assertEquals(0,gdc3.getSubClasses().size());
  assertTrue(gdc3.getPropertyByName("id").isInherited());
}
